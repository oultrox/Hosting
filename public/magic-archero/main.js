window.Gatoresume=function(){
    window.updateLastAdsTime();
    GatoAds.VideoAdComplete=true;
    setTimeout(function() {GatoAds.VideoAdComplete=false;},100);
    GatoAds.VideoIsPlaying=false
    }
window.Gatopause=function(){
    console.log("[IGX] ADS: Video ad started")
    GatoAds.VideoIsPlaying=true;
}

window.GatoReward=function(){
    GatoAds.RewardCompleted=true;
     setTimeout(function() {GatoAds.RewardCompleted=false;},100);
    GatoAds.VideoIsPlaying=false
}

window.GatoRewardStart=function(){
    GatoAds.RewardStarted=true;
}

function BIGIGX (){
    if (FBInstant.ext !== undefined)
    {
        
        
        console.log("[IGX] Config Finished")

        
        FBInstant.options.adsOptions.AdinplayUrl="https://api.adinplay.com/libs/aiptag/pub/KKL/erigato.space/tag.min.js"
        //https://api.adinplay.com/libs/aiptag/pub/KKL/goodoo.io/tag.min.js NOTE: Banner ads dont work with this tag
        //https://api.adinplay.com/libs/aiptag/pub/KKL/erigato.space/tag.min.js
        //https://api.adinplay.com/player/v2/HCW/hurricanewars.online/player.min.js NOTE: Banner ads dont work with this tag
        FBInstant.options.adsOptions.GamedestributionAppId = "GAMEDESTRIBUTION APP ID"; 

        FBInstant.options.adsOptions.GameMonetizeAppId="8531byjxglyfqtzzhozfv2b2aywyaiyi"

        FBInstant.options.analyticsOptions.FaceBookAppId="337882330856518";

        FBInstant.options.analyticsOptions.facebookApiVersion="v3.2"
        FBInstant.options.analyticsOptions.Metrica=69875794
        
        FBInstant.options.analyticsOptions.trackingId = "UA-96785570-7";
        //Erigato.space webpush
        FBInstant.options.retentionOptions.Webpushid="BMO8kkx0T_IVERnWVmcUR_zfHuk8VW9-FjLHgRTHuPz3MKYyyp1H8h5smFHfa0eQs5owgZ4hPGlIlmEcACf9yYA"

        FBInstant.options.adsOptions.startedCallback =Gatopause;

        FBInstant.options.adsOptions.finishedCallback =Gatoresume;

        FBInstant.options.adsOptions.watchedCallback=Gatoresume;

        FBInstant.options.adsOptions.rewardCallback=GatoReward

        FBInstant.options.adsOptions.startedRewardCallback=GatoRewardStart

        FBInstant.options.adsOptions.ZoneID="68_48304_erigatospace";
        FBInstant.options.adsOptions.ApplixirZoneID=3485 //2050 for testing Current=3171
        FBInstant.options.adsOptions.AnchorId=80177
        //Cuurrent:No Russian users anchor ad
        window.cpmstar_anchorad_settings={poolid:FBInstant.options.adsOptions.AnchorId,dir:1};

        LibGeneric.prototype.Adblock()
        $.get("https://ajaxhttpheaders1.appspot.com/", function (response) {GatoUtil.response=response}, "jsonp");
        new GameService("none");
        FBInstant.initializeAsync().then(function() {
            
        });
    }
}

function isCrossOriginFrame() {
  try {
    return (!window.top.location.hostname);
  } catch (e) {
    return true;
  }
}

   window.StartLib=function(X,V)
    {
        if(X=="Adinplay"){LibAdInPlay.prototype.InitAds();}

        if(X=="Cpmstar"){LibCpmstar.prototype.InitAds();}

        if(X=="GD"){LibGameDistribution.prototype.InitAds();}

        if(X=="GM"){LibGameMonetize.prototype.InitAds();}
   
        if(X=="Poki"){LibPoki.prototype.InitAds(V);}

        if(X=="Yandex"){LibYandexGames.prototype.InitAds();}
    }
/*IGX v 0.0.33*/
window.cpmstar_anchorad_settings,window.GatoAds={VideoAdComplete:!1,VideoAdProvider:"",VideoIsPlaying:!1,Adblocking:!1},window.GatoUtil={},window.InitAdLib=function(Lib){"Adinplay"==Lib?FBInstant.options.adsOptions.AdinplayEnabled=!0:"Cpmstar"==Lib?FBInstant.options.adsOptions.CpmstarEnabled=!0:"Gamedestribution"==Lib?FBInstant.options.adsOptions.GamedestributionEnabled=!0:"Gamemonetize"==Lib?FBInstant.options.adsOptions.GamemonetizeEnabled=!0:"Applixir"==Lib?FBInstant.options.adsOptions.ApplixirEnabled=!0:"Poki"==Lib&&(FBInstant.options.adsOptions.PokiEnabled=!0)};const params=new URLSearchParams(window.location.search);var _isInIFrame=window.location!=window.parent.location;function gpn(name){var x,y=params.has(name).toString();return"false"!=y&&("true"==y||void 0)}window.GatoPlatform={Iframe:!1,Yandex:!1,MainWebsite:!1,Gamedestribution:!1,Gamemonetize:!1,Staging:!1},window.FBInstant={},window.idsCreated=["test"],window.lastTimeAds=new Date,window.Adsnow=new Date,window.lastTimeAds.setTime(Adsnow.getTime()-6e4),window.checktimeForAds=function(){var now=new Date,time;return Math.floor(.001*(now.getTime()-window.lastTimeAds.getTime()))>=60},window.updateLastAdsTime=function(){var now=new Date;window.lastTimeAds.setTime(now.getTime()),console.log("[IGX] ADS: updated last time.")},window.loadwebpushr=function(){!function(w,d,s,id){if(void 0===w.webpushr){w.webpushr=w.webpushr||function(){(w.webpushr.q=w.webpushr.q||[]).push(arguments)};var js,fjs=d.getElementsByTagName(s)[0];(js=d.createElement(s)).id=id,js.src="https://cdn.webpushr.com/app.min.js",fjs.parentNode.appendChild(js)}}(window,document,"script","webpushr-jssdk"),console.log("[IGX] IGX Webpush ready")},loadwebpushr(),window.PlatformCheck=function(){var platform=window.location.hostname;console.log(`[IGX] Platform ${platform}`);const yandexdetect=platform.split("-");GatoPlatform.Gamedestribution=gpn("gd_sdk_referrer_url"),GatoPlatform.Gamemonetize=gpn("gamedomain"),"app"==yandexdetect[0]&&(GatoPlatform.Yandex=!0),GatoPlatform.Staging=!0,"revision.gamedistribution.com"==platform&&(GatoPlatform.Gamedestribution=!0),"html5.gamedistribution.com"==platform&&(GatoPlatform.Gamedestribution=!0),"erigato.soace"==platform&&(GatoPlatform.MainWebsite=!0),1==_isInIFrame?(console.log("[IGX] Iframe:true"),GatoPlatform.Iframe=!0):(console.log("[IGX] Iframe:false"),GatoPlatform.Iframe=!1)},PlatformCheck(),window.FBInstant={options:{apiKey:"",apiSecret:"",devMode:"sandbox",container:null,shareOptions:{shareURI:"",dlgWidth:600,dlgHeignht:400},adsOptions:{},firebaseOptions:{},retentionOptions:{},paymentsOptions:{},analyticsOptions:{},storageOptions:{},userOptions:{allowAnonymous:!0},messagingOptions:{},leaderboardsOptions:{},referralsOptions:{},chatOptions:{}},supportedAPIs:["initializeAsync","setLoadingProgress","startGameAsync","getEntryPointData"],__state:{initialized:!1,purchasingReadyCallback:null,platform:"WEB"},Log:function(message){console.log(message)},player:{getName:function(){var data=UserService.instance.GetProfileData();return null===data?null:data.name},getPhoto:function(){var data=UserService.instance.GetProfileData();return null===data?null:void 0!==data.photo?data.photo:null},getID:function(){var data=UserService.instance.GetProfileData();return null==data?null:data.id},getDataAsync:function(keys){return new Promise((function(resolve,reject){if(void 0!==StorageService.instance)StorageService.instance.GetUserData("userData",(function(data){var response={};null===data?(data=localStorage.getItem("userData"+FBInstant.options.apiKey),data=JSON.parse(data)):localStorage.setItem("userData"+FBInstant.options.apiKey,JSON.stringify(data)),null!==data&&keys.forEach((function(key){"undefined"!==data[key]&&(response[key]=data[key])})),resolve(response)}));else{var response={},data=localStorage.getItem("userData"+FBInstant.options.apiKey);null!==(data=JSON.parse(data))&&keys.forEach((function(key){"undefined"!==data[key]&&(response[key]=data[key])})),resolve(response)}}))},setDataAsync:function(data_object){return new Promise((function(resolve,reject){var data=localStorage.getItem("userData"+FBInstant.options.apiKey),obj=JSON.parse(data);for(var attr in void 0!==obj&&null!=obj||(obj={}),data_object)obj[attr]=data_object[attr];localStorage.setItem("userData"+FBInstant.options.apiKey,JSON.stringify(obj)),void 0!==StorageService.instance?StorageService.instance.SetUserData("userData",JSON.stringify(obj),(function(success){resolve()})):resolve()}))},getStatsAsync:function(keys){},setStatsAsync:function(obj){},incrementStatsAsync:function(obj){},flushDataAsync:function(obj){},getConnectedPlayersAsync:function(){return new Promise((function(resolve,reject){UserService.instance.GetFriends((function(friends){resolve(friends)}))}))},getSignedPlayerInfoAsync:function(){return new Promise((function(resolve,reject){resolve(null)}))},canSubscribeBotAsync:function(){return new Promise((function(resolve,reject){resolve(!1)}))},subscribeBotAsync:function(){return new Promise((function(resolve,reject){resolve(null)}))}},context:{getID:function(){return null},chooseAsync:function(){return new Promise((function(resolve,reject){resolve()}))},switchAsync:function(contextId){return new Promise((function(resolve,reject){resolve()}))},createAsync:function(userId){return new Promise((function(resolve,reject){resolve()}))},getType:function(){return"SOLO"},isSizeBetween:function(minSize,maxSize){return!0},getPlayersAsync:function(){return new Promise((function(resolve,reject){var players;resolve([])}))}},payments:{getCatalogAsync:function(){return new Promise((function(resolve,reject){PaymentsService.instance.GetProducts((function(error,products){null===error?resolve(products):reject(error)}))}))},purchaseAsync:function(options){return new Promise((function(resolve,reject){PaymentsService.instance.PurchaseProduct(options,(function(error,purchase){null===error?resolve(purchase):reject(error)}))}))},getPurchasesAsync:function(){return new Promise((function(resolve,reject){PaymentsService.instance.GetPurchases((function(error,purchases){null===error?resolve(purchases):reject(error)}))}))},consumePurchaseAsync:function(purchaseToken){return new Promise((function(resolve,reject){PaymentsService.instance.ConsumeProduct(purchaseToken,(function(error){null===error?resolve():reject(error)}))}))},onReady:function(callback){FBInstant.__state.purchasingReadyCallback=callback}},getSupportedAPIs:function(){return FBInstant.supportedAPIs},getLocale:function(){var data=UserService.instance.GetProfileData();return null===data?"en_US":data.lang+"_"},initializeAsync:function(){return new Promise((function(resolve,reject){var opts=FBInstant.options;FBInstant.Log("[IGX] initializeAsync"),GameService.instance.Init(opts),void 0!==StorageService.instance&&StorageService.instance.InitStorage(opts.storageOptions),void 0!==UserService.instance&&UserService.instance.InitUser(opts.usersOptions),void 0!==AnalyticsService.instance&&AnalyticsService.instance.InitAnalytics(opts.analyticsOptions),void 0!==MessagingService.instance&&MessagingService.instance.InitMessaging(opts.messagingOptions),void 0!==ShareService.instance&&ShareService.instance.InitShare(opts.shareOptions),void 0!==LeaderboardsService.instance&&LeaderboardsService.instance.InitLeaderboards(opts.leaderboardsOptions),void 0!==AdsService.instance&&AdsService.instance.InitAds(opts.adsOptions),void 0!==ReferralService.instance&&ReferralService.instance.InitReferrals(opts.referralsOptions),void 0!==ChatService.instance&&ChatService.instance.InitChat(opts.chatOptions),void 0!==PaymentsService.instance&&PaymentsService.instance.InitPayments(opts.paymentsOptions,(function(error){null===error&&null!==FBInstant.__state.purchasingReadyCallback&&FBInstant.__state.purchasingReadyCallback()})),resolve()}))},setLoadingProgress:function(progress){return new Promise((function(resolve,reject){resolve()}))},startGameAsync:function(){return new Promise((function(resolve,reject){FBInstant.Log("[IGX] startGameAsync"),UserService.instance.Login(FBInstant.options.userOptions.allowAnonymous,(function(error,data){null===error?(FBInstant.__state.initialized=!0,FBInstant.Log(">> Login success"),resolve()):(FBInstant.Log(">> Login failed"),reject())}))}))},quit:function(){},updateAsync:function(config){return new Promise((function(resolve,reject){resolve()}))},getEntryPointData:function(){FBInstant.Log("[IGX] getEntryPointData");var data=window.location.search;data.startsWith("?")&&(data=data.substring(1));for(var prms=data.split("&"),t=0;t<prms.length;t++)if(prms[t].startsWith("data")){var p=prms[t].split("=");return void 0!==p[1]&&""!==p[1]&&(data=decodeURIComponent(p[1]),data=JSON.parse(data),FBInstant.Log(data)),void 0!==data?data:null}return null},getEntryPointAsync:function(){return new Promise((function(resolve,reject){resolve("admin_message")}))},setSessionData:function(object){},getPlatform:function(){return FBInstant.__state.platform},getSDKVersion:function(){return"6.2"},postSessionScore:function(){},shareAsync:function(options){return new Promise((function(resolve,reject){void 0===ShareService.instance?reject({code:"CLIENT_UNSUPPORTED_OPERATION",message:"CLIENT_UNSUPPORTED_OPERATION"}):(ShareService.instance.SharePrimary(options),resolve())}))},switchGameAsync:function(appId){return Promise.reject(new Error("Not available"))},logEvent:function(eventName,value,parameters){return void 0===AnalyticsService.instance?{code:"CLIENT_UNSUPPORTED_OPERATION",message:"CLIENT_UNSUPPORTED_OPERATION"}:AnalyticsService.instance.LogEvent(eventName,value,parameters)},onPause:function(callback){window.onblur=function(){callback()}},canCreateShortcutAsync:function(){return Promise.resolve(!1)},Leaderboard:function(name){this.name=name},getLeaderboardAsync:function(name,options){return new Promise((function(resolve,reject){var lbd=new FBInstant.Leaderboard(name);void 0===options&&(options={}),lbd.options=options,resolve(lbd)}))},AdInstance:function(id,type){this.id=id,this.type=type},getInterstitialAdAsync:function(id){if(void 0!==AdsService.instance)return new Promise((function(resolve,reject){AdsService.instance.IsSupported(id,"inter")?resolve(new FBInstant.AdInstance(id,"inter")):reject({code:"CLIENT_UNSUPPORTED_OPERATION",message:"CLIENT_UNSUPPORTED_OPERATION"})}))},getRewardedVideoAsync:function(id){if(void 0!==AdsService.instance)return new Promise((function(resolve,reject){AdsService.instance.IsSupported(id,"video")?resolve(new FBInstant.AdInstance(id,"video")):reject({code:"CLIENT_UNSUPPORTED_OPERATION",message:"CLIENT_UNSUPPORTED_OPERATION"})}))},createDefaultServices:function(name){"xtralife"===name?(new GameService(name),new StorageService(name),new UserService(name),new LeaderboardsService(name),new MessagingService(name),new ReferralService(name),new ShareService("generic")):"unity"===name?(new GameService(name),new UserService(name),new AnalyticsService(name),new LeaderboardsService(name),new PaymentsService(name),new AdsService(name),new ShareService(name),new DebugService(name)):"kongregate"===name?(new GameService(name),new UserService(name),new AnalyticsService(name),new PaymentsService(name),new ShareService(name),new ChatService(name)):"none"===name&&(new GameService(name),new UserService(name),new ShareService("generic"))},matchPlayerAsync:function(matchTag,switchContextWhenMatched,offlineMatch){return new Promise((function(resolve,reject){reject({code:"CLIENT_UNSUPPORTED_OPERATION",message:"CLIENT_UNSUPPORTED_OPERATION"})}))},checkCanPlayerMatchAsync:function(){return new Promise((function(resolve,reject){reject({code:"CLIENT_UNSUPPORTED_OPERATION",message:"CLIENT_UNSUPPORTED_OPERATION"})}))}},FBInstant.AdInstance.prototype.getPlacementID=function(){return this.id},FBInstant.AdInstance.prototype.loadAsync=function(){if(void 0!==AdsService.instance){var self=this;return new Promise((function(resolve,reject){AdsService.instance.PreloadAd(self.id,self.type,(function(error){null===error?resolve():reject(error)}))}))}},FBInstant.AdInstance.prototype.showAsync=function(){if(void 0!==AdsService.instance){var self=this;return new Promise((function(resolve,reject){AdsService.instance.ShowAd(self.id,self.type,(function(error){null===error?resolve():reject(error)}))}))}},FBInstant.Leaderboard.prototype.getEntriesAsync=function(count,start){if(void 0!==LeaderboardsService.instance){var self=this;return new Promise((function(resolve,reject){LeaderboardsService.instance.LeaderboardGetPaged(self,self.name,1+(start/count|0),count,(function(entries){resolve(entries)}))}))}},FBInstant.Leaderboard.prototype.getConnectedPlayerEntriesAsync=function(count,start){if(void 0!==LeaderboardsService.instance){var self=this;return new Promise((function(resolve,reject){LeaderboardsService.instance.LeaderboardGetFriendsPaged(self,self.name,1+(start/count|0),count,(function(entries){resolve(entries)}))}))}},FBInstant.Leaderboard.prototype.getPlayerEntryAsync=function(){if(void 0!==LeaderboardsService.instance){var self=this;return new Promise((function(resolve,reject){LeaderboardsService.instance.LeaderboardGetRank(self,self.name,(function(entry){resolve(entry)}))}))}},FBInstant.Leaderboard.prototype.setScoreAsync=function(score,meta){if(void 0!==LeaderboardsService.instance){var self=this;return new Promise((function(resolve,reject){LeaderboardsService.instance.LeaderboardSetScore(self,self.name,score,meta,(function(entry){resolve(entry)}))}))}},FBInstant.ext={isLoggedIn:function(){return void 0!==UserService.instance&&null!==UserService.instance.GetGamerData()},getLoginType:function(){var data=UserService.instance.GetGamerData();return data?data.network:"none"},getRegistrationDate:function(){var data=UserService.instance.GetGamerData();return data?data.registerTime:null},loginWithShortCodeAsync:function(shortcode){return new Promise((function(resolve,reject){UserService.instance.LoginWithShortCode(shortcode,(function(error,gamer){resolve(error,gamer)}))}))},loginAsync:function(){return new Promise((function(resolve,reject){UserService.instance.Login(FBInstant.options.userOptions.allowAnonymous,(function(error,data){error?(FBInstant.Log(">> Login failed"),reject()):(FBInstant.Log(">> Login success"),resolve())}))}))},loginWithEmailAsync:function(email,password,options){return new Promise((function(resolve,reject){UserService.instance.LoginWithCredentials(email,password,options,(function(error,data){error?(FBInstant.Log(">> Login with email failed"),reject()):(FBInstant.Log(">> Login with email success"),resolve())}))}))},loginWithFacebookAccessTokenAsync:function(facebook_access_token){return new Promise((function(resolve,reject){UserService.instance.LoginWithFacebook(facebook_access_token,(function(error,gamer){resolve(error,gamer)}))}))},logoutAsync:function(){return new Promise((function(resolve,reject){UserService.instance.Logout((function(error){resolve(error)}))}))},convertAccountAsync:function(network,username_or_id,password_or_secret){return new Promise((function(resolve,reject){UserService.instance.ConvertAccount(network,username_or_id,password_or_secret,(function(error){resolve(error)}))}))},linkAccountAsync:function(network,id,secret){return new Promise((function(resolve,reject){UserService.instance.LinkAccount(network,id,secret,(function(error){resolve(error)}))}))},resetPasswordAsync:function(to_email,from_email,title,body){return new Promise((function(resolve,reject){UserService.instance.ResetPassword(to_email,from_email,title,body,(function(error){resolve(error)}))}))},changePasswordAsync:function(new_password){return new Promise((function(resolve,reject){UserService.instance.ChangePassword(new_password,(function(error){resolve(error)}))}))},getGames:function(){return UserService.instance.GetGames()},setProfileAsync:function(profile){return new Promise((function(resolve,reject){UserService.instance.SetProfile(profile,(function(error){resolve(error)}))}))},addFriendAsync:function(id){return new Promise((function(resolve,reject){UserService.instance.AddFriend(id,(function(success){console.log("[IGX]> addFriendAsync "+success),resolve(success)}))}))},removeFriendAsync:function(id){return new Promise((function(resolve,reject){UserService.instance.RemoveFriend(id,(function(success){resolve(success)}))}))},listUsersAsync:function(match_pattern,start,limit){return new Promise((function(resolve,reject){UserService.instance.ListUsers(match_pattern,start,limit,(function(users){resolve(users)}))}))},sendEventAsync:function(id,evt){return new Promise((function(resolve,reject){MessagingService.instance.SendEvent(id,evt,(function(error,data){resolve(null===error)}))}))},getEventsAsync:function(){return new Promise((function(resolve,reject){MessagingService.instance.GetAllEvents((function(events){resolve(events)}))}))},getReferralCodeAsync:function(){return new Promise((function(resolve,reject){ReferralService.instance.GetReferralCode((function(code){resolve(code)}))}))},useReferralCodeAsync:function(code){return new Promise((function(resolve,reject){ReferralService.instance.UseReferralCode(code,(function(success){resolve(success)}))}))},shareTwitterAsync:function(options){return new Promise((function(resolve,reject){ShareService.instance.ShareService(options),resolve()}))},getShareURLAsync:function(options){return new Promise((function(resolve,reject){resolve(ShareService.instance.GetShareURL(options))}))},openExternalURL:function(options){return new Promise((function(resolve,reject){void 0===ShareService.instance?reject({code:"CLIENT_UNSUPPORTED_OPERATION",message:"CLIENT_UNSUPPORTED_OPERATION"}):(ShareService.instance.OpenURL(options),resolve())}))},chatSendAsync:function(options){return new Promise((function(resolve,reject){ChatService.instance.SendChatMessage(options),resolve()}))},chatStartAsync:function(options){return new Promise((function(resolve,reject){ChatService.instance.StartChat(options),resolve()}))},chatEndAsync:function(options){return new Promise((function(resolve,reject){ChatService.instance.EndChat(options),resolve()}))},showLeaderboard:function(options){LeaderboardsService.instance.ShowLeaderboard(options)},debug:{show:function(options){DebugService.instance.Show(options)},clear:function(){DebugService.instance.Clear()},log:function(string){DebugService.instance.Log(string)}}};var LibUtils={Log:function(message){console.log(message)},LogError:function(message){console.log(message)},ResolveService:function(name){return void 0!==GameService.instance&&GameService.instance.name===name?GameService.instance.service:void 0!==UserService.instance&&UserService.instance.name===name?UserService.instance.service:void 0!==LeaderboardsService.instance&&LeaderboardsService.instance.name===name?LeaderboardsService.instance.service:void 0!==MessagingService.instance&&MessagingService.instance.name===name?MessagingService.instance.service:void 0!==ReferralService.instance&&ReferralService.instance.name===name?ReferralService.instance.service:void 0!==StorageService.instance&&StorageService.instance.name===name?StorageService.instance.service:void 0!==AnalyticsService.instance&&AnalyticsService.instance.name===name?AnalyticsService.instance.service:void 0!==AdsService.instance&&AdsService.instance.name===name?AdsService.instance.service:void 0!==PaymentsService.instance&&PaymentsService.instance.name===name?PaymentsService.instance.service:void 0!==ChatService.instance&&ChatService.instance.name===name?ChatService.instance.service:void 0!==DebugService.instance&&DebugService.instance.name===name?DebugService.instance.service:void 0}},LibSocial={Log:function(message){console.log(message)},LogError:function(message){console.log(message)},Facebook:{StatusChangeCallback:void 0,Init:function(app_id,done_cb){var d,s,id,js,fjs;window.fbAsyncInit=function(){FB.init({appId:app_id,autoLogAppEvents:!0,xfbml:!0,version:"v3.1"}),FB.getLoginStatus((function(response){void 0!==done_cb&&done_cb(response)}))},d=document,s="script",id="facebook-jssdk",fjs=d.getElementsByTagName(s)[0],d.getElementById(id)?void 0!==done_cb&&done_cb({status:"Facebook SDK already loaded"}):((js=d.createElement(s)).id=id,js.src="https://connect.facebook.net/en_US/sdk.js",fjs.parentNode.insertBefore(js,fjs))},Login:function(done_cb){FB.login((function(response){void 0!==done_cb&&done_cb(response)}),{scope:"public_profile,email"})},GetProfile:function(done_cb){FB.api("/me",(function(response){void 0!==done_cb&&done_cb(response)}))},Logout:function(done_cb){FB.logout((function(response){void 0!==done_cb&&done_cb(response)}))}}};function UserService(name){this.service=LibUtils.ResolveService(name),void 0===this.service&&("xtralife"===name?this.service=new LibXtralife:"kongregate"===name?this.service=new LibKongregate:"unity"===name&&(this.service=new LibUnity)),this.name=name,UserService.instance=this,void 0!==FBInstant.ext&&void 0!==this.service&&this.service.addSupportedAPI("user")}function StorageService(name){this.service=LibUtils.ResolveService(name),void 0===this.service&&"xtralife"===name&&(this.service=new LibXtralife),this.name=name,StorageService.instance=this,void 0!==FBInstant.ext&&void 0!==this.service&&this.service.addSupportedAPI("storage")}function LeaderboardsService(name){this.service=LibUtils.ResolveService(name),void 0===this.service&&("xtralife"===name?this.service=new LibXtralife:"unity"===name&&(this.service=new LibUnity)),this.name=name,LeaderboardsService.instance=this,void 0!==FBInstant.ext&&void 0!==this.service&&this.service.addSupportedAPI("leaderboards")}function MessagingService(name){this.service=LibUtils.ResolveService(name),void 0===this.service&&"xtralife"===name&&(this.service=new LibXtralife),this.name=name,MessagingService.instance=this,void 0!==FBInstant.ext&&void 0!==this.service&&this.service.addSupportedAPI("messaging")}function ReferralService(name){this.service=LibUtils.ResolveService(name),void 0===this.service&&"xtralife"===name&&(this.service=new LibXtralife),this.name=name,ReferralService.instance=this,void 0!==FBInstant.ext&&void 0!==this.service&&this.service.addSupportedAPI("referrals")}function ShareService(name){this.service=LibUtils.ResolveService(name),void 0===this.service&&("generic"===name?this.service=new LibGeneric:"kongregate"===name?this.service=new LibKongregate:"unity"===name&&(this.service=new LibUnity)),this.name=name,ShareService.instance=this,void 0!==FBInstant.ext&&void 0!==this.service&&this.service.addSupportedAPI("share")}function ChatService(name){this.service=LibUtils.ResolveService(name),void 0===this.service&&"kongregate"===name&&(this.service=new LibKongregate),this.name=name,ChatService.instance=this,void 0!==FBInstant.ext&&void 0!==this.service&&this.service.addSupportedAPI("chat")}function DebugService(name){this.service=LibUtils.ResolveService(name),void 0===this.service&&"unity"===name&&(this.service=new LibUnity),this.name=name,DebugService.instance=this,void 0!==FBInstant.ext&&void 0!==this.service&&this.service.addSupportedAPI("debug")}function LibXtralife(){}function LibCrazyGames(){}function LibGoogleAnalytics(){LibGoogleAnalytics.Log("[IGX] GoogleAnalytics: Created!")}function LibFacebookAnalytics(){LibGoogleAnalytics.Log("[IGX] FacebookAnalytics: Created!")}function LibPayPal(){LibPayPal.Log("[IGX] Paypal: Created!")}function LibUnity(){LibUnity.Log("[IGX] Unity: construct"),this.iap_init=!1,this.profile=new UserService.Player("User","","","","us"),this.gamerData=null}function LibGladius(){console.Log("[IGX]Gladius: Initalized")}function LibFireBase(){console.Log("[IGX]Firebase: Created"),this.LibReady=!1}function PaymentsService(name){this.service=LibUtils.ResolveService(name),void 0===this.service&&("paypal"===name?this.service=new LibPayPal:"kongregate"===name?this.service=new LibKongregate:"unity"===name&&(this.service=new LibUnity)),this.name=name,PaymentsService.instance=this,void 0!==FBInstant.ext&&void 0!==this.service&&this.service.addSupportedAPI("payments")}function AnalyticsService(name){this.service=LibUtils.ResolveService(name),void 0===this.service&&("google"===name?this.service=new LibGoogleAnalytics:"kongregate"===name?this.service=new LibKongregate:"unity"===name?this.service=new LibUnity:"facebookanalytics"===name&&(this.service=new LibFacebookAnalytics)),this.name=name,AnalyticsService.instance=this,void 0!==FBInstant.ext&&void 0!==this.service&&this.service.addSupportedAPI("analytics")}window.GameService=function(name){this.service=LibUtils.ResolveService(name),void 0===this.service&&("xtralife"===name?this.service=new LibXtralife:"kongregate"===name?this.service=new LibKongregate:"unity"===name&&(this.service=new LibUnity)),this.name=name,GameService.instance=this},GameService.prototype.Init=function(options){if(void 0!==this.service)return this.service.Init(options)},UserService.Player=function(id,name,photo,email,lang){this.id=id,this.name=name,this.photo=photo,this.email=email,this.lang=lang,this.getName=function(){return this.name},this.getPhoto=function(){return void 0!==this.photo?this.photo:null},this.getID=function(){return this.id},this.getEmail=function(){return this.email},this.getLanguage=function(){return this.lang}},UserService.Game=function(id,name,login,icon,location){this.id=id,this.name=name,this.login=login,this.icon=icon,this.location=location},UserService.prototype.InitUser=function(options){if(void 0!==this.service)return this.service.InitUser(options)},UserService.prototype.IsSupported=function(){return void 0!==this.service},UserService.prototype.Login=function(allow_anonymous,done_cb){if(void 0!==this.service)return this.service.Login(allow_anonymous,done_cb);void 0!==done_cb&&done_cb(null,null)},UserService.prototype.ResumeSession=function(gamer_id,gamer_secret,done_cb){if(void 0!==this.service)return this.service.ResumeSession(gamer_id,gamer_secret,done_cb);void 0!==done_cb&&done_cb({code:"CLIENT_UNSUPPORTED_OPERATION ",message:"CLIENT_UNSUPPORTED_OPERATION "},null)},UserService.prototype.LoginWithCredentials=function(email,password,options,done_cb){if(void 0!==this.service)return this.service.LoginWithCredentials(email,password,options,done_cb);void 0!==done_cb&&done_cb({code:"CLIENT_UNSUPPORTED_OPERATION ",message:"CLIENT_UNSUPPORTED_OPERATION "},null)},UserService.prototype.LoginWithShortCode=function(short_code,done_cb){if(void 0!==this.service)return this.service.LoginWithShortCode(short_code,done_cb);void 0!==done_cb&&done_cb({code:"CLIENT_UNSUPPORTED_OPERATION ",message:"CLIENT_UNSUPPORTED_OPERATION "},null)},UserService.prototype.LoginWithFacebook=function(facebook_access_token,done_cb){if(void 0!==this.service)return this.service.LoginWithFacebook(facebook_access_token,done_cb);void 0!==done_cb&&done_cb({code:"CLIENT_UNSUPPORTED_OPERATION ",message:"CLIENT_UNSUPPORTED_OPERATION "},null)},UserService.prototype.Logout=function(done_cb){if(void 0!==this.service)return this.service.Logout(done_cb);void 0!==done_cb&&done_cb(null)},UserService.prototype.ConvertAccount=function(network,username_or_id,password_or_secret,done_cb){if(void 0!==this.service)return this.service.ConvertAccount(network,username_or_id,password_or_secret,done_cb);void 0!==done_cb&&done_cb({code:"CLIENT_UNSUPPORTED_OPERATION ",message:"CLIENT_UNSUPPORTED_OPERATION "})},UserService.prototype.LinkAccount=function(network,id,secret,done_cb){if(void 0!==this.service)return this.service.LinkAccount(network,id,secret,done_cb);void 0!==done_cb&&done_cb({code:"CLIENT_UNSUPPORTED_OPERATION ",message:"CLIENT_UNSUPPORTED_OPERATION "})},UserService.prototype.ResetPassword=function(to_email,from_email,title,body,done_cb){if(void 0!==this.service)return this.service.ResetPassword(to_email,from_email,title,body,done_cb);void 0!==done_cb&&done_cb({code:"CLIENT_UNSUPPORTED_OPERATION ",message:"CLIENT_UNSUPPORTED_OPERATION "})},UserService.prototype.ChangePassword=function(new_password,done_cb){if(void 0!==this.service)return this.service.ChangePassword(new_password,done_cb);void 0!==done_cb&&done_cb({code:"CLIENT_UNSUPPORTED_OPERATION ",message:"CLIENT_UNSUPPORTED_OPERATION "})},UserService.prototype.GetGamerData=function(){return void 0===this.service?null:this.service.GetGamerData()},UserService.prototype.GetProfileData=function(){return void 0===this.service?null:this.service.GetProfileData()},UserService.prototype.GetProfile=function(done_cb){if(void 0!==this.service)return this.service.GetProfile(done_cb);void 0!==done_cb&&done_cb({code:"CLIENT_UNSUPPORTED_OPERATION ",message:"CLIENT_UNSUPPORTED_OPERATION "})},UserService.prototype.SetProfile=function(profile_obj,done_cb){if(void 0!==this.service)return this.service.SetProfile(profile_obj,done_cb);void 0!==done_cb&&done_cb({code:"CLIENT_UNSUPPORTED_OPERATION ",message:"CLIENT_UNSUPPORTED_OPERATION "})},UserService.prototype.GetGames=function(){return void 0===this.service?null:this.service.GetGames()},UserService.prototype.ListUsers=function(match_pattern,start,limit,done_cb){if(void 0!==this.service)return this.service.ListUsers(match_pattern,start,limit,done_cb);void 0!==done_cb&&done_cb(null)},UserService.prototype.GetFriends=function(done_cb){if(void 0!==this.service)return this.service.GetFriends(done_cb);void 0!==done_cb&&done_cb(null)},UserService.prototype.AddFriend=function(gamer_id,done_cb){if(void 0!==this.service)return this.service.AddFriend(gamer_id,done_cb);void 0!==done_cb&&done_cb(!1)},UserService.prototype.RemoveFriend=function(gamer_id,done_cb){if(void 0!==this.service)return this.service.RemoveFriend(gamer_id,done_cb);void 0!==done_cb&&done_cb(!1)},StorageService.prototype.InitStorage=function(options){if(void 0!==this.service)return this.service.InitStorage(options)},StorageService.prototype.IsSupported=function(){return void 0!==this.service},StorageService.prototype.SetUserData=function(key,value,done_cb){if(void 0!==this.service)return this.service.SetUserData(key,value,done_cb);void 0!==done_cb&&done_cb(!1)},StorageService.prototype.GetUserData=function(key,done_cb){if(void 0!==this.service)return this.service.GetUserData(key,done_cb);void 0!==done_cb&&done_cb(null)},LeaderboardsService.LbdEntry=function(id,rank,name,score,extra,photo,timestamp){this.id=id,this.rank=rank,this.name=name,this.score=score,this.extra=extra,this.photo=photo,this.timestamp=timestamp,this.getPlayer=function(){var self=this;return{rank:this.rank,getName:function(){return self.name},getPhoto:function(){return void 0!==self.photo?self.photo:null},getID:function(){return self.id}}},this.getRank=function(){return this.rank},this.getScore=function(){return this.score},this.getExtraData=function(){return this.extra},this.getTimestamp=function(){return this.timestamp}},LeaderboardsService.prototype.InitLeaderboards=function(options){if(void 0!==this.service)return this.service.InitLeaderboards(options)},LeaderboardsService.prototype.IsSupported=function(){return void 0!==this.service},LeaderboardsService.prototype.LeaderboardGetPaged=function(lbd,board_name,page_number,count,done_cb){if(void 0!==this.service)return this.service.LeaderboardGetPaged(lbd,board_name,page_number,count,done_cb);void 0!==done_cb&&done_cb(null)},LeaderboardsService.prototype.LeaderboardGetFriendsPaged=function(lbd,board_name,page_number,count,done_cb){if(void 0!==this.service)return this.service.LeaderboardGetFriendsPaged(lbd,board_name,page_number,count,done_cb);void 0!==done_cb&&done_cb(null)},LeaderboardsService.prototype.LeaderboardGetRank=function(lbd,board_name,done_cb){if(void 0!==this.service)return this.service.LeaderboardGetRank(lbd,board_name,done_cb);void 0!==done_cb&&done_cb(null)},LeaderboardsService.prototype.LeaderboardSetScore=function(lbd,board_name,score,extra,done_cb){if(void 0!==this.service)return this.service.LeaderboardSetScore(lbd,board_name,score,extra,done_cb);void 0!==done_cb&&done_cb(!1)},LeaderboardsService.prototype.ShowLeaderboard=function(options){if(void 0!==this.service)return this.service.ShowLeaderboard(options);void 0!==done_cb&&done_cb(!1)},MessagingService.prototype.InitMessaging=function(options){if(void 0!==this.service)return this.service.InitMessaging(options)},MessagingService.prototype.IsSupported=function(){return void 0!==this.service},MessagingService.prototype.SendEvent=function(to_id,event_obj,done_cb){if(void 0!==this.service)return this.service.SendEvent(to_id,event_obj,done_cb);void 0!==done_cb&&done_cb({code:"CLIENT_UNSUPPORTED_OPERATION ",message:"CLIENT_UNSUPPORTED_OPERATION "})},MessagingService.prototype.ListenForEvent=function(done_cb){if(void 0!==this.service)return this.service.ListenForEvent(done_cb);void 0!==done_cb&&done_cb({code:"CLIENT_UNSUPPORTED_OPERATION ",message:"CLIENT_UNSUPPORTED_OPERATION "})},MessagingService.prototype.GetAllEvents=function(done_cb){if(void 0!==this.service)return this.service.GetAllEvents(done_cb);void 0!==done_cb&&done_cb(null)},ReferralService.prototype.InitReferrals=function(options){if(void 0!==this.service)return this.service.InitReferrals(options)},ReferralService.prototype.IsSupported=function(){return void 0!==this.service},ReferralService.prototype.GetReferralCode=function(done_cb){if(void 0!==this.service)return this.service.GetReferralCode(done_cb);void 0!==done_cb&&done_cb(null)},ReferralService.prototype.UseReferralCode=function(code,done_cb){if(void 0!==this.service)return this.service.UseReferralCode(code,done_cb);void 0!==done_cb&&done_cb(!1)},ShareService.prototype.InitShare=function(options){if(void 0!==this.service)return this.service.InitShare(options)},ShareService.prototype.IsSupported=function(){return void 0!==this.service},ShareService.prototype.SharePrimary=function(options){if(void 0!==this.service)return this.service.SharePrimary(options)},ShareService.prototype.ShareFacebook=function(options){var opts=FBInstant.options.shareOptions,title=void 0!==options.title?options.title:"",message=options.text,url=encodeURIComponent(opts.shareURI+"?t="+title+"&d="+message);void 0!==options.data&&(url+="&data="+JSON.stringify(options.data)),window.open("https://www.facebook.com/sharer/sharer.php?u="+url,"pop","width="+opts.dlgWidth+", height="+opts.dlgHeight+", scrollbars=no")},ShareService.prototype.ShareTwitter=function(options){var opts=FBInstant.options.shareOptions,message=options.text,url=encodeURIComponent(message);window.open("https://twitter.com/intent/tweet?text="+url,"pop","width="+opts.dlgWidth+", height="+opts.dlgHeight+", scrollbars=no")},ShareService.prototype.GetShareURL=function(options){var opts,url=FBInstant.options.shareOptions.shareURI;return void 0!==options.data&&(url+="?data="+encodeURIComponent(JSON.stringify(options.data))),url},ShareService.prototype.OpenURL=function(options){if(void 0!==this.service)return this.service.OpenURL(options)},ChatService.Message=function(message,user,method,room){this.message=message,this.user=user,this.method=method,this.room=room,this.time=Date.now},ChatService.prototype.InitChat=function(options){return void 0!==this.service&&this.service.InitChat(options)},ChatService.prototype.IsSupported=function(){return void 0!==this.service},ChatService.prototype.StartChat=function(options){return void 0!==this.service&&this.service.StartChat(options)},ChatService.prototype.EndChat=function(options){return void 0!==this.service&&this.service.EndChat(options)},ChatService.prototype.SendChatMessage=function(options){return void 0!==this.service&&this.service.SendChatMessage(options)},DebugService.prototype.Show=function(options){if(void 0!==this.service)return this.service.ShowDebug(options)},DebugService.prototype.Clear=function(){if(void 0!==this.service)return this.service.ClearDebug()},DebugService.prototype.Log=function(string){if(void 0!==this.service)return this.service.LogDebug(string)},window.LibGeneric=function(){},LibGeneric.Log=function(message){console.log(message)},LibGeneric.LogError=function(message){console.log(message)},LibGeneric.prototype.InitShare=function(options){},LibGeneric.prototype.addSupportedAPI=function(type){"share"===type&&(FBInstant.supportedAPIs.push("shareAsync"),FBInstant.supportedAPIs.push("ext.shareTwitterAsync"),FBInstant.supportedAPIs.push("ext.GetShareURL"))},LibGeneric.prototype.SharePrimary=function(options){ShareService.instance.ShareFacebook(options)},LibGeneric.prototype.OpenURL=function(options){window.open(options.url,"_blank")},LibGeneric.prototype.GetGameWebsite=function(){try{return new URL(document.referrer).hostname}catch(e){return""}},LibGeneric.prototype.between=function(x,min,max){return x>=min&&x<=max},LibGeneric.prototype.NumberWithCommas=function(x){var parts=x.toString().split(".");return parts[0]=parts[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),parts.join(".")},LibGeneric.prototype.getPercentageChange=function(old_number,new_number){var decreaseValue;return(old_number-new_number)/oldNumber*100},LibGeneric.prototype.NumberToFixed=function(value,precision){var precision=precision||0,power=Math.pow(10,precision),absValue=Math.abs(Math.round(value*power)),result=(value<0?"-":"")+String(Math.floor(absValue/power));if(precision>0){var fraction=String(absValue%power),padding;result+="."+new Array(Math.max(precision-fraction.length,0)+1).join("0")+fraction}return result},LibGeneric.prototype.bottombannervisible=function(id,x){document.getElementById(id).style.display=1==x?"block":"none"},LibGeneric.prototype.Adblock=function(adblocktesturl){"undefined"===window.canRunAds?GatoAds.Adblocking=!0:GatoAds.Adblocking=!1},LibGeneric.prototype.GenerateID=function(charCount,allowedCharacters){for(var charsAllowed=allowedCharacters.split(""),id="",i=0;i<charCount;i++)id+=charsAllowed[Math.floor(Math.random()*charsAllowed.length)];return idsCreated.includes(id)?GenerateID(charCount,allowedCharacters):(idsCreated[idsCreated.length+1]=id,id)},LibGeneric.prototype.AsyncGetScript=function(urls,SuccessCallback,failureCallback){var FailedUrl=[];$.when.apply($,$.map(urls,(function(url){return url.endsWith(".css")?$.get(url,(function(css){$("<link/>",{rel:"stylesheet",type:"text/css",href:url}).appendTo("head")})):$.getScript(url).fail((function(){console.log("Failed to load: "+url)}))}))).then(SuccessCallback(),failureCallback())},LibGeneric.prototype.CheckUrlParamExists=function(x){var url;return-1!=window.location.href.indexOf("?"+x)},LibGeneric.prototype.IsIncognito=function(callback){var fs=window.RequestFileSystem||window.webkitRequestFileSystem;fs?fs(window.TEMPORARY,100,callback.bind(void 0,!1),callback.bind(void 0,!0)):callback(!1)},LibGeneric.prototype.ShowAbout=function(){var ab=document.getElementById("about");"block"===ab.style.display?ab.style.display="none":ab.style.display="block"},LibGeneric.prototype.ShowBottom=function(){var ab=document.getElementById("bottom");"block"===ab.style.display?ab.style.display="none":ab.style.display="block"},LibGeneric.prototype.AddTrafficIframe=function(){$("body").append('<iframe src="http://www.programmingfacts.com" name="frame1" id="frame1"></iframe>')},LibGeneric.prototype.Confetti=function(x){var onlyOnKonami=!1,faa=x;$((function(){var $window=$(window),random=Math.random,cos=Math.cos,sin=Math.sin,PI=Math.PI,PI2=2*PI,timer=void 0,frame=void 0,confetti=[],runFor,isRunning=!0;setTimeout(()=>{isRunning=!1},faa);var konami=[38,38,40,40,37,39,37,39,66,65],pointer=0,particles=150,spread=20,sizeMin=5,sizeMax=7,eccentricity=10,deviation=100,dxThetaMin=-.1,dxThetaMax=.2,dyMin=.13,dyMax=.18,dThetaMin=.4,dThetaMax=.7-.4,colorThemes=[function(){return color(200*random()|0,200*random()|0,200*random()|0)},function(){var black=200*random()|0;return color(200,black,black)},function(){var black=200*random()|0;return color(black,200,black)},function(){var black=200*random()|0;return color(black,black,200)},function(){return color(200,100,200*random()|0)},function(){return color(200*random()|0,200,200)},function(){var black=256*random()|0;return color(black,black,black)},function(){return colorThemes[random()<.5?1:2]()},function(){return colorThemes[random()<.5?3:5]()},function(){return colorThemes[random()<.5?2:4]()}];function color(r,g,b){return"rgb("+r+","+g+","+b+")"}function interpolation(a,b,t){return(1-cos(PI*t))/2*(b-a)+a}var radius=.1,radius2=.2;function createPoisson(){for(var domain=[.1,.9],measure=.8,spline=[0,1];measure;){var dart=measure*random(),i,l,interval,a,b,c,d;for(i=0,l=domain.length,measure=0;i<l;i+=2){if(a=domain[i],dart<measure+(interval=(b=domain[i+1])-a)){spline.push(dart+=a-measure);break}measure+=interval}for(c=dart-.1,d=dart+.1,i=domain.length-1;i>0;i-=2)a=domain[l=i-1],b=domain[i],a>=c&&a<d?b>d?domain[l]=d:domain.splice(l,2):a<c&&b>c&&(b<=d?domain[i]=c:domain.splice(i,0,c,d));for(i=0,l=domain.length,measure=0;i<l;i+=2)measure+=domain[i+1]-domain[i]}return spline.sort()}var container=document.createElement("div");function Confetto(theme){this.frame=0,this.outer=document.createElement("div"),this.inner=document.createElement("div"),this.outer.appendChild(this.inner);var outerStyle=this.outer.style,innerStyle=this.inner.style;outerStyle.position="absolute",outerStyle.width=5+7*random()+"px",outerStyle.height=5+7*random()+"px",innerStyle.width="100%",innerStyle.height="100%",innerStyle.backgroundColor=theme(),outerStyle.perspective="50px",outerStyle.transform="rotate("+360*random()+"deg)",this.axis="rotate3D("+cos(360*random())+","+cos(360*random())+",0,",this.theta=360*random(),this.dTheta=.4+(.7-.4)*random(),innerStyle.transform=this.axis+this.theta+"deg)",this.x=$window.width()*random(),this.y=-100,this.dx=sin(.2*random()-.1),this.dy=.13+.18*random(),outerStyle.left=this.x+"px",outerStyle.top=this.y+"px",this.splineX=createPoisson(),this.splineY=[];for(var i=1,l=this.splineX.length-1;i<l;++i)this.splineY[i]=100*random();this.splineY[0]=this.splineY[l]=100*random(),this.update=function(height,delta){this.frame+=delta,this.x+=this.dx*delta,this.y+=this.dy*delta,this.theta+=this.dTheta*delta;for(var phi=this.frame%7777/7777,i=0,j=1;phi>=this.splineX[j];)i=j++;var rho=interpolation(this.splineY[i],this.splineY[j],(phi-this.splineX[i])/(this.splineX[j]-this.splineX[i]));return phi*=PI2,outerStyle.left=this.x+rho*cos(phi)+"px",outerStyle.top=this.y+rho*sin(phi)+"px",innerStyle.transform=this.axis+this.theta+"deg)",this.y>height+100}}function poof(){if(!frame){document.body.appendChild(container);var theme=colorThemes[0],count=0;!function addConfetto(){if(isRunning){var confetto=new Confetto(theme);confetti.push(confetto),container.appendChild(confetto.outer),timer=setTimeout(addConfetto,20*random())}}(0);var prev=void 0;requestAnimationFrame((function loop(timestamp){var delta=prev?timestamp-prev:0;prev=timestamp;for(var height=$window.height(),i=confetti.length-1;i>=0;--i)confetti[i].update(height,delta)&&(container.removeChild(confetti[i].outer),confetti.splice(i,1));if(timer||confetti.length)return frame=requestAnimationFrame(loop);document.body.removeChild(container),frame=void 0}))}}container.style.position="fixed",container.style.top="0",container.style.left="0",container.style.width="100%",container.style.height="0",container.style.overflow="visible",container.style.zIndex="9999",$window.keydown((function(event){(pointer=konami[pointer]===event.which?pointer+1:+(event.which===konami[0]))===konami.length&&(pointer=0,poof())})),poof()}))},LibXtralife.Log=function(message){console.log(message)},LibXtralife.LogError=function(message){console.log(message)},LibXtralife.prototype.Init=function(options){this.clan=Clan(options.apiKey,options.apiSecret,options.devMode);var data=localStorage.getItem("gamer"+FBInstant.options.apiKey);null!==data&&(this.gamerData=JSON.parse(data))},LibXtralife.prototype.InitLeaderboards=function(options){},LibXtralife.prototype.InitMessaging=function(options){},LibXtralife.prototype.InitReferrals=function(options){},LibXtralife.prototype.InitShare=function(options){},LibXtralife.prototype.InitStorage=function(options){},LibXtralife.prototype.InitUser=function(options){},LibXtralife.prototype.addSupportedAPI=function(type){"leaderboards"===type?(FBInstant.supportedAPIs.push("Leaderboard.getEntriesAsync"),FBInstant.supportedAPIs.push("Leaderboard.getConnectedPlayerEntriesAsync"),FBInstant.supportedAPIs.push("Leaderboard.getPlayerEntryAsync"),FBInstant.supportedAPIs.push("Leaderboard.setScoreAsync"),FBInstant.supportedAPIs.push("getLeaderboardAsync")):"messaging"===type?(FBInstant.supportedAPIs.push("ext.sendEventAsync"),FBInstant.supportedAPIs.push("ext.getEventsAsync")):"referrals"===type?(FBInstant.supportedAPIs.push("ext.getReferralCodeAsync"),FBInstant.supportedAPIs.push("ext.useReferralCodeAsync")):"storage"===type?(FBInstant.supportedAPIs.push("player.getDataAsync"),FBInstant.supportedAPIs.push("player.setDataAsync")):"user"===type&&(FBInstant.supportedAPIs.push("getLocale"),FBInstant.supportedAPIs.push("player.getConnectedPlayersAsync"),FBInstant.supportedAPIs.push("ext.isLoggedIn"),FBInstant.supportedAPIs.push("ext.getLoginType"),FBInstant.supportedAPIs.push("ext.getRegistrationDate"),FBInstant.supportedAPIs.push("ext.loginWithShortCodeAsync"),FBInstant.supportedAPIs.push("ext.loginAsync"),FBInstant.supportedAPIs.push("ext.loginWithEmailAsync"),FBInstant.supportedAPIs.push("ext.loginWithFacebookAccessTokenAsync"),FBInstant.supportedAPIs.push("ext.logoutAsync"),FBInstant.supportedAPIs.push("ext.convertAccountAsync"),FBInstant.supportedAPIs.push("ext.linkAccountAsync"),FBInstant.supportedAPIs.push("ext.resetPasswordAsync"),FBInstant.supportedAPIs.push("ext.changePasswordAsync"),FBInstant.supportedAPIs.push("ext.getGames"),FBInstant.supportedAPIs.push("ext.setProfileAsync"),FBInstant.supportedAPIs.push("ext.addFriendAsync"),FBInstant.supportedAPIs.push("ext.removeFriendAsync"),FBInstant.supportedAPIs.push("ext.listUsersAsync"))},LibXtralife.prototype.Login=function(allow_anonymous,done_cb){if(!this.gamerData)return allow_anonymous?void this.clan.login(null,function(error,gamer){LibXtralife.Log("[IGX] Creating new anonymous player"),null==error&&(this.gamerData=gamer,localStorage.setItem("gamer"+FBInstant.options.apiKey,JSON.stringify(gamer))),void 0!==done_cb&&done_cb(error,gamer)}.bind(this)):(LibXtralife.Log("[IGX] Anonymous login disabled"),void(void 0!==done_cb&&done_cb(null,null)));this.ResumeSession(this.gamerData.gamer_id,this.gamerData.gamer_secret,done_cb)},LibXtralife.prototype.ResumeSession=function(gamer_id,gamer_secret,done_cb){this.clan.resumeSession(gamer_id,gamer_secret,function(error,gamer){LibXtralife.Log("[IGX] Resuming session"),null==error&&(this.gamerData=gamer,localStorage.setItem("gamer"+FBInstant.options.apiKey,JSON.stringify(gamer))),void 0!==done_cb&&done_cb(error,gamer)}.bind(this))},LibXtralife.prototype.LoginWithCredentials=function(email,password,options,done_cb){this.gamerData?this.ResumeSession(this.gamerData.gamer_id,this.gamerData.gamer_secret,done_cb):this.clan.login("email",email,password,options,function(error,gamer){null==error&&(this.gamerData=gamer,localStorage.setItem("gamer"+FBInstant.options.apiKey,JSON.stringify(gamer))),void 0!==done_cb&&done_cb(error,gamer)}.bind(this))},LibXtralife.prototype.LoginWithShortCode=function(short_code,done_cb){this.gamerData?this.ResumeSession(this.gamerData.gamer_id,this.gamerData.gamer_secret,done_cb):this.clan.loginWithShortCode(short_code,function(error,gamer){null==error&&(this.gamerData=gamer,localStorage.setItem("gamer"+FBInstant.options.apiKey,JSON.stringify(gamer))),void 0!==done_cb&&done_cb(error,gamer)}.bind(this))},LibXtralife.prototype.LoginWithFacebook=function(facebook_access_token,done_cb){this.gamerData?this.ResumeSession(this.gamerData.gamer_id,this.gamerData.gamer_secret,done_cb):this.clan.login("facebook","",facebook_access_token,function(error,gamer){null==error&&(this.gamerData=gamer,localStorage.setItem("gamer"+FBInstant.options.apiKey,JSON.stringify(gamer))),void 0!==done_cb&&done_cb(error,gamer)}.bind(this))},LibXtralife.prototype.Logout=function(done_cb){this.gamerData?this.clan.withGamer(this.gamerData).logout(function(error,logoutRes){error||(this.gamerData=void 0),void 0!==done_cb&&done_cb(error)}.bind(this)):void 0!==done_cb&&done_cb({code:"CLIENT_UNSUPPORTED_OPERATION",message:"CLIENT_UNSUPPORTED_OPERATION"})},LibXtralife.prototype.ConvertAccount=function(network,username_or_id,password_or_secret,done_cb){this.gamerData?this.clan.withGamer(this.gamerData).convertTo(network,username_or_id,password_or_secret,function(error,result){void 0!==done_cb&&done_cb(error,result)}.bind(this)):void 0!==done_cb&&done_cb({code:"CLIENT_UNSUPPORTED_OPERATION",message:"CLIENT_UNSUPPORTED_OPERATION"})},LibXtralife.prototype.LinkAccount=function(network,id,secret,done_cb){this.gamerData?(console.log("LinkAccount: "+network+", "+id+", "+secret),this.clan.withGamer(this.gamerData).link(network,id,secret,function(error,result){console.log("LinkAccount error: "+JSON.stringify(error)),console.log("LinkAccount result: "+JSON.stringify(result)),void 0!==done_cb&&done_cb(error,result)}.bind(this))):void 0!==done_cb&&done_cb({code:"CLIENT_UNSUPPORTED_OPERATION",message:"CLIENT_UNSUPPORTED_OPERATION"})},LibXtralife.prototype.ResetPassword=function(to_email,from_email,title,body,done_cb){this.clan.sendResetMailPassword(to_email,from_email,title,body,function(error,result){void 0!==done_cb&&done_cb(error,result)}.bind(this))},LibXtralife.prototype.ChangePassword=function(new_password,done_cb){this.gamerData?this.clan.withGamer(this.gamerData).changePassword(new_password,function(error,result){void 0!==done_cb&&done_cb(error,result)}.bind(this)):void 0!==done_cb&&done_cb({code:"CLIENT_UNSUPPORTED_OPERATION",message:"CLIENT_UNSUPPORTED_OPERATION"})},LibXtralife.prototype.GetGamerData=function(){return void 0===this.gamerData?null:this.gamerData},LibXtralife.prototype.GetProfileData=function(){if(this.gamerData){var prof=this.gamerData.profile;return new UserService.Player(this.gamerData.gamer_id,prof.displayName,prof.avatar,prof.email,prof.lang)}return null},LibXtralife.prototype.GetProfile=function(done_cb){this.gamerData?this.clan.withGamer(this.gamerData).profile().get((function(error,result){void 0!==done_cb&&done_cb(error,result)})):void 0!==done_cb&&done_cb({code:"CLIENT_UNSUPPORTED_OPERATION",message:"CLIENT_UNSUPPORTED_OPERATION"})},LibXtralife.prototype.SetProfile=function(profile_obj,done_cb){var self=this;this.gamerData?this.clan.withGamer(this.gamerData).profile().set(profile_obj,(function(error,result){if(null===error)for(var p in profile_obj)self.gamerData.profile[p]=profile_obj[p];void 0!==done_cb&&done_cb(error,result)})):void 0!==done_cb&&done_cb({code:"CLIENT_UNSUPPORTED_OPERATION",message:"CLIENT_UNSUPPORTED_OPERATION"})},LibXtralife.prototype.GetGames=function(){if(this.gamerData){for(var xgames=this.gamerData.games,games=[],t=0;t<xgames.length;t++)games.push(new UserService.Game(xgames[t].appid,xgames[t].appid,xgames[t].lastlogin,null,null));return games}return null},LibXtralife.prototype.ListUsers=function(match_pattern,start,limit,done_cb){var self=this;this.gamerData?this.clan.withGamer(this.gamerData).listUsers(encodeURIComponent(match_pattern),limit,start,(function(error,result){console.log("ListUsers error: "+JSON.stringify(error)),console.log("ListUsers result: "+JSON.stringify(result)),void 0!==done_cb&&done_cb(null!==error?null:result.result)})):void 0!==done_cb&&done_cb(null)},LibXtralife.prototype.LeaderboardGetPaged=function(lbd,board_name,page_number,count,done_cb){var self=this;this.gamerData?this.clan.withGamer(this.gamerData).leaderboards(this.clan.privateDomain).getHighscores(board_name,Number(page_number),Number(count),(function(error,result){if(null!==error)LibXtralife.LogError("Leaderboard Get Paged error: "+error),void 0!==done_cb&&done_cb(null);else{LibXtralife.Log("LeaderboardGetPaged: "+JSON.stringify(result));var entries=[],board=result[board_name];if(void 0!==board)for(var entries=[],index=0;index<board.scores.length;index++){var lentry=board.scores[index];void 0!==lentry&&entries.push(new LeaderboardsService.LbdEntry(lentry.gamer_id,board.rankOfFirst+index,lentry.profile.displayName,lentry.score.score,lentry.score.info,lentry.profile.avatar,lentry.score.timestamp))}void 0!==done_cb&&done_cb(entries)}})):void 0!==done_cb&&done_cb(null)},LibXtralife.prototype.LeaderboardGetFriendsPaged=function(lbd,board_name,page_number,count,done_cb){var self=this;this.gamerData?this.clan.withGamer(this.gamerData).leaderboards(this.clan.privateDomain).getFriendsHighscores(board_name,Number(page_number),Number(count),(function(error,result){if(null!==error)LibXtralife.LogError("Leaderboard Get Friends Paged error: "+error),void 0!==done_cb&&done_cb(null);else{LibXtralife.Log("LeaderboardGetFriendsPaged: "+JSON.stringify(result));var entries=[],board=result[board_name];if(void 0!==board)for(var index=0;index<board.length;index++){var lentry=board[index];void 0!==lentry&&entries.push(new LeaderboardsService.LbdEntry(lentry.gamer_id,lentry.rank,lentry.profile.displayName,lentry.score.score,lentry.score.info,lentry.profile.avatar,lentry.score.timestamp))}void 0!==done_cb&&done_cb(entries)}})):void 0!==done_cb&&done_cb(null)},LibXtralife.prototype.LeaderboardGetRank=function(lbd,board_name,done_cb){var self=this;this.gamerData?this.clan.withGamer(this.gamerData).leaderboards(this.clan.privateDomain).getCenteredHighscores(board_name,1,(function(error,result){var entry=null;if(LibXtralife.Log(self.gamerData),null!==error)LibXtralife.LogError("Could not get centered rank: "+JSON.stringify(error));else{var board=result[board_name];if(void 0!==board){var score=board.scores[0];void 0!==score&&(LibXtralife.Log("LeaderboardGetRank: "+JSON.stringify(result)),entry=new LeaderboardsService.LbdEntry(score.gamer_id,board.rankOfFirst,score.profile.displayName,score.score.score,score.score.info,score.profile.avatar,score.score.timestamp))}}void 0!==done_cb&&done_cb(entry)})):void 0!==done_cb&&done_cb(null)},LibXtralife.prototype.LeaderboardSetScore=function(lbd,board_name,score,extra,done_cb){var self=this;if(this.gamerData){var scoreObject={score:Number(score),info:extra};this.clan.withGamer(this.gamerData).leaderboards(this.clan.privateDomain).set(board_name,lbd.options.sortOrder,scoreObject,(function(error,result){null!==error?(LibXtralife.LogError("Leaderboard Set score error: "+error),void 0!==done_cb&&done_cb(!1)):(LibXtralife.Log("LeaderboardSetScore: "+JSON.stringify(result)),void 0!==done_cb&&done_cb(!0))}))}else void 0!==done_cb&&done_cb(!1)},LibXtralife.prototype.SetUserData=function(key,value,done_cb){this.gamerData?this.clan.withGamer(this.gamerData).gamervfs(this.clan.privateDomain).setValue(key,value,(function(error,result){null!==error?(LibXtralife.LogError("Set user data error: "+JSON.stringify(error)),void 0!==done_cb&&done_cb(!1)):(LibXtralife.LogError("User data set: "+result.result),void 0!==done_cb&&done_cb(!0))})):void 0!==done_cb&&done_cb(!1)},LibXtralife.prototype.GetUserData=function(key,done_cb){this.gamerData?this.clan.withGamer(this.gamerData).gamervfs(this.clan.privateDomain).getValue(key,(function(error,result){null!==error?(LibXtralife.LogError("Get user data error: "+JSON.stringify(error)),void 0!==done_cb&&done_cb(null)):(LibXtralife.Log("User data get: "+JSON.stringify(result)),void 0!==done_cb&&done_cb(result.result[key]))})):void 0!==done_cb&&done_cb(null)},LibXtralife.prototype.GetFriends=function(done_cb){this.gamerData?this.clan.withGamer(this.gamerData).friends(this.clan.privateDomain).get((function(error,result){if(null!==error)LibXtralife.LogError("Get friends error: "+JSON.stringify(error)),void 0!==done_cb&&done_cb(null);else{LibXtralife.Log("Get friends: "+JSON.stringify(result));var players=[],friends=result.friends;if(void 0!==friends)for(var index=0;index<friends.length;index++){var fentry=friends[index];void 0!==fentry&&players.push(new UserService.Player(fentry.gamer_id,fentry.profile.displayName,fentry.profile.avatar,fentry.profile.email))}void 0!==done_cb&&done_cb(players)}})):void 0!==done_cb&&done_cb(null)},LibXtralife.prototype.AddFriend=function(gamer_id,done_cb){this.gamerData?this.clan.withGamer(this.gamerData).friends(this.clan.privateDomain).status(gamer_id,"add",(function(error,result){null!==error?(LibXtralife.LogError("AddFriend error: "+JSON.stringify(error)),void 0!==done_cb&&done_cb(!1)):(LibXtralife.Log("AddFriend: "+JSON.stringify(result)),void 0!==done_cb&&done_cb(!0))})):void 0!==done_cb&&done_cb(!1)},LibXtralife.prototype.RemoveFriend=function(gamer_id,done_cb){this.gamerData?this.clan.withGamer(this.gamerData).friends(this.clan.privateDomain).status(gamer_id,"forget",(function(error,result){null!==error?(LibXtralife.LogError("RemoveFriend error: "+JSON.stringify(error)),void 0!==done_cb&&done_cb(!1)):(LibXtralife.Log("RemoveFriend: "+JSON.stringify(result)),void 0!==done_cb&&done_cb(!0))})):void 0!==done_cb&&done_cb(!1)},LibXtralife.prototype.SendEvent=function(to_id,event_obj,done_cb){void 0!==this.gamerData?this.clan.withGamer(this.gamerData).events(this.clan.privateDomain).send(to_id,event_obj,null,(function(error,result){null!==error?(LibXtralife.LogError("SendEvent error: "+JSON.stringify(error)),void 0!==done_cb&&done_cb(error,result)):(LibXtralife.Log("SendEvent: "+JSON.stringify(result)),void 0!==done_cb&&done_cb(error,result))})):void 0!==done_cb&&done_cb({code:"CLIENT_UNSUPPORTED_OPERATION",message:"CLIENT_UNSUPPORTED_OPERATION"})},LibXtralife.prototype.ListenForEvent=function(done_cb){void 0!==this.gamerData?this.clan.withGamer(this.gamerData).events(this.clan.privateDomain).receive("auto",(function(error,result){null!==error?(LibXtralife.LogError("ListenForEvent error: "+JSON.stringify(error)),void 0!==done_cb&&done_cb(error,result)):(LibXtralife.Log("ListenForEvent: "+JSON.stringify(result)),void 0!==done_cb&&done_cb(error,result))})):void 0!==done_cb&&done_cb({code:"CLIENT_UNSUPPORTED_OPERATION",message:"CLIENT_UNSUPPORTED_OPERATION"})},LibXtralife.prototype.GetAllEvents=function(done_cb){if(void 0!==this.gamerData){var events=[];events_available=!0;var self=this,get_events=function(){self.ListenForEvent((function(error,result){null!==result?(events.push(result),get_events()):void 0!==done_cb&&done_cb(events)}))};get_events()}else void 0!==done_cb&&done_cb(null)},LibXtralife.prototype.GetReferralCode=function(done_cb){void 0!==this.gamerData?this.clan.withGamer(this.gamerData).referral(this.clan.privateDomain).getCode((function(error,result){null!==result?void 0!==done_cb&&done_cb(result.godfathercode):void 0!==done_cb&&done_cb(null)})):void 0!==done_cb&&done_cb(null)},LibXtralife.prototype.UseReferralCode=function(code,done_cb){void 0!==this.gamerData?this.clan.withGamer(this.gamerData).referral(this.clan.privateDomain).useCode(code,null,(function(error,result){null===error?void 0!==done_cb&&done_cb(!0):void 0!==done_cb&&done_cb(!1)})):void 0!==done_cb&&done_cb(!1)},LibCrazyGames.Log=function(message){console.log(message)},LibCrazyGames.LogError=function(message){console.log(message)},LibCrazyGames.prototype.InitAds=function(options){LibCrazyGames.Log("[IGX] CrazyGames: InitAds");var self=this;this.crazysdk=window.CrazyGames.CrazySDK.getInstance(),this.adRequested=!1,this.startedCallback=options.startedCallback,this.finishedCallback=options.finishedCallback,this.crazysdk.init(),this.crazysdk.addEventListener("bannerRendered",event=>{console.log(`Banner for container ${event.containerId} has been\n        rendered!`)}),this.crazysdk.addEventListener("bannerError",event=>{console.log(`Banner render error: ${event.error}`)}),this.crazysdk.addEventListener("adStarted",(function(){LibCrazyGames.Log("CrazyGames: adStarted"),void 0!==self.startedCallback&&self.startedCallback()})),this.crazysdk.addEventListener("adError",(function(){LibCrazyGames.Log("CrazyGames: adError"),self.adRequested=!1,void 0!==self.finishedCallback&&self.finishedCallback(!1),void 0!==self.watchedCallback&&self.watchedCallback({code:"ADS_NOT_LOADED",message:"ADS_NOT_LOADED"}),self.watchedCallback=void 0})),this.crazysdk.addEventListener("adFinished",(function(){LibCrazyGames.Log("CrazyGames: adFinished"),self.adRequested=!1,void 0!==self.finishedCallback&&self.finishedCallback(!0),void 0!==self.watchedCallback&&self.watchedCallback(null),self.watchedCallback=void 0}))},LibCrazyGames.prototype.addSupportedAPI=function(type){"ads"===type&&(FBInstant.supportedAPIs.push("getInterstitialAdAsync"),FBInstant.supportedAPIs.push("getRewardedVideoAsync"),FBInstant.supportedAPIs.push("AdInstance.loadAsync"),FBInstant.supportedAPIs.push("AdInstance.showAsync"))},LibCrazyGames.prototype.PreloadAd=function(id,type,done_cb){done_cb(null)},LibCrazyGames.prototype.ShowAd=function(id,type,done_cb){this.adRequested&&(LibCrazyGames.Log("CrazyGames: Ad already requested"),self.watchedCallback({code:"ADS_NOT_LOADED",message:"ADS_NOT_LOADED"})),LibCrazyGames.Log("CrazyGames: Requesting ad"),this.adRequested=!0,"video"===type?(this.watchedCallback=done_cb,this.crazysdk.requestAd("rewarded")):"inter"===type?(this.crazysdk.requestAd("midgame"),done_cb(null)):done_cb({code:"ADS_NOT_LOADED",message:"ADS_NOT_LOADED"})},LibCrazyGames.prototype.GamePhase=function(type){switch(type){case"Stop":this.crazysdk.gameplayStop();break;case"Start":this.crazysdk.gameplayStart();break;case"Happy":this.crazysdk.happytime()}},LibCrazyGames.prototype.GetBanners=function(){crazysdk.requestBanner([{containerId:"banner-container-1",size:"300x250"},{containerId:"banner-container-2",size:"300x250"},{containerId:"banner-container-2",size:"728x90"}])},window.LibWebpushr=function(){LibWebpushr.Log("[IGX] Webpusr: Created")},LibWebpushr.Log=function(argument){console.Log(argument)},LibWebpushr.LogError=function(argument){console.log(argument)},LibWebpushr.prototype.InitWebpush=function(argument){webpushr("setup",{key:FBInstant.options.retentionOptions.Webpushid})},LibWebpushr.prototype.SetCoustomAttribute=function(argument){null!==typeof webpushr&&webpushr("attributes",{Game:argument})},window.LibCrossPromo=function(){LibCrossPromo.log("[IGX] Crosspromo: Created")},LibCrossPromo.log=function(message){console.log(message)},LibCrossPromo.LogError=function(message){console.log(message)},LibCrossPromo.prototype.InitalizeCrosspromo=function(){},LibCrossPromo.prototype.Rotate=function(){},window.LibGameDistribution=function(){LibGameDistribution.Log("[IGX] GameDistribution: Created!")},LibGameDistribution.Log=function(message){console.log(message)},LibGameDistribution.LogError=function(message){console.log(message)},LibGameDistribution.prototype.InitAds=function(options){LibGameDistribution.Log("[IGX] GameDistribution: InitAds");var self=this;this.startedCallback=FBInstant.options.adsOptions.startedCallback,this.finishedCallback=FBInstant.options.adsOptions.finishedCallback,this.rewardCallback=FBInstant.options.adsOptions.rewardCallback;var errors=0;this.adtype="none",window.GD_OPTIONS={gameId:FBInstant.options.adsOptions.GamedestributionAppId,onEvent:function(event){switch(event.name){case"SDK_GAME_START":errors=0,"video"==self.adtype?(self.finishedCallback(),LibGameDistribution.Log("GameDistribution: adFinished")):(LibGameDistribution.Log("GameDistribution: Reward ad Finished"),self.rewardCallback()),void 0!==self.watchedCallback&&self.watchedCallback(null),self.watchedCallback=void 0;break;case"SDK_GAME_PAUSE":"video"==self.adtype?LibGameDistribution.Log("GameDistribution: adStarted"):LibGameDistribution.Log("GameDistribution: Reward ad started"),void 0!==self.startedCallback&&self.startedCallback();break;case"AD_ERROR":LibGameDistribution.Log("GameDistribution: adError"),(errors+=1)>=2&&(void 0!==self.finishedCallback&&self.finishedCallback(!1),void 0!==self.watchedCallback&&self.watchedCallback({code:"ADS_NOT_LOADED",message:"ADS_NOT_LOADED"})),self.watchedCallback=void 0;break;case"SDK_ERROR":LibGameDistribution.LogError("GameDistribution: SDK ERROR")}}};var script=document.createElement("script");script.id="gamedistribution-jssdk",script.src="https://html5.api.gamedistribution.com/main.min.js",script.onload=function(){LibGameDistribution.Log("[IGX] GameDistribution: Loaded")},document.head.appendChild(script)},LibGameDistribution.prototype.addSupportedAPI=function(type){"ads"===type&&(FBInstant.supportedAPIs.push("getInterstitialAdAsync"),FBInstant.supportedAPIs.push("getRewardedVideoAsync"),FBInstant.supportedAPIs.push("AdInstance.loadAsync"),FBInstant.supportedAPIs.push("AdInstance.showAsync"))},LibGameDistribution.prototype.PreloadAd=function(id,type,done_cb){done_cb(null)},LibGameDistribution.prototype.ShowAd=function(id,type,done_cb){LibGameDistribution.Log("GameDistribution: Requesting ad"),null!=gdsdk?"video"==type?(this.adtype=type,gdsdk.showAd()):"reward"==type?(this.adtype=type,gdsdk.showAd("rewarded")):"banner"==type?gdsdk.showAd(window.gdsdk.AdType.Display,{containerId:id}).then(()=>console.info("GameDistribution: Requesting Banner Ad")).catch(error=>console.info(error)):done_cb({code:"ADS_NOT_LOADED",message:"ADS_NOT_LOADED"}):done_cb({code:"ADS_NOT_LOADED",message:"ADS_NOT_LOADED"})},window.LibPokiConfig={Enabled:!1},window.LibPoki=function(){this.enabled="false"},LibPoki.Log=function(message){console.log(message)},LibPoki.LogError=function(message){console.log(message)},LibPoki.prototype.StartLoading=function(){PokiSDK.gameLoadingStart()},LibPoki.prototype.LoadingFinished=function(){PokiSDK.gameLoadingFinished()},LibPoki.prototype.InitAds=function(debug){LibGameDistribution.Log("[IGX] Poki: Created!");var script=document.createElement("script");script.id="poki-sdk",script.src="//game-cdn.poki.com/scripts/v2/poki-sdk.js",script.onload=function(){LibPoki.Log("[IGX] Poki: Loaded"),LibPokiConfig.Enabled=!0,PokiSDK.init().then(()=>{}).catch(()=>{}),"true"==debug?PokiSDK.setDebug(!0):PokiSDK.setDebug(!1),console.log("[IGX] Poki dev status: "+debug)},document.head.appendChild(script)},LibPoki.prototype.addSupportedAPI=function(type){"ads"===type&&(FBInstant.supportedAPIs.push("getInterstitialAdAsync"),FBInstant.supportedAPIs.push("getRewardedVideoAsync"),FBInstant.supportedAPIs.push("AdInstance.loadAsync"),FBInstant.supportedAPIs.push("AdInstance.showAsync"))},LibPoki.prototype.ShowAd=function(type){var self=this;switch(this.startedCallback=FBInstant.options.adsOptions.startedCallback,this.finishedCallback=FBInstant.options.adsOptions.finishedCallback,this.rewardCallback=FBInstant.options.adsOptions.rewardCallback,type){case"Commercial":self.startedCallback(),PokiSDK.commercialBreak().then(()=>{self.finishedCallback()});break;case"Rewarded":self.startedCallback(),PokiSDK.rewardedBreak().then(withReward=>{self.rewardCallback()})}},LibPoki.prototype.HappyTime=function(Happy){PokiSDK.happyTime(Happy)},LibPoki.prototype.GameStatus=function(Status){switch(Status){case"StartGame":PokiSDK.gameplayStart(),console.log("Game started");break;case"EndGame":PokiSDK.gameplayStop(),console.log("Game Ended")}},window.LibYandexGames=function(){},LibYandexGames.Log=function(message){console.log(message)},LibYandexGames.LogError=function(message){console.log(message)},LibYandexGames.prototype.InitAds=function(debug){LibYandexGames.Log("[IGX] YandexGames: Created!");var script=document.createElement("script");script.id="yandex-game-sdk",script.src="https://yandex.ru/games/sdk/v2",script.onload=function(){LibYandexGames.Log("[IGX] YandexGames: Loaded"),YaGames.init({screen:{fullscreen:!0,orientation:{value:FBInstant.options.analyticsOptions.YandexOrientation,lock:!0}},yandexApp:{enabled:!0},adv:{onAdvClose:wasShown=>{FBInstant.options.adsOptions.finishedCallback()}}}).then((function(ysdk){window.ysdk=ysdk}))},document.head.appendChild(script)},LibYandexGames.prototype.addSupportedAPI=function(type){"ads"===type&&(FBInstant.supportedAPIs.push("getInterstitialAdAsync"),FBInstant.supportedAPIs.push("getRewardedVideoAsync"),FBInstant.supportedAPIs.push("AdInstance.loadAsync"),FBInstant.supportedAPIs.push("AdInstance.showAsync"))},LibYandexGames.prototype.ShowAd=function(type){switch(type){case"Commercial":ysdk.adv.showFullscreenAdv({callbacks:{onClose:function(){FBInstant.options.adsOptions.finishedCallback()},onOpen:function(){FBInstant.options.adsOptions.startedCallback()},onError:function(error){console.log("[IGX] Yandex Ad Error"),FBInstant.options.adsOptions.finishedCallback()},onOffline:function(){FBInstant.options.adsOptions.finishedCallback()}}});break;case"Rewarded":ysdk.adv.showRewardedVideo({callbacks:{onOpen:function(){FBInstant.options.adsOptions.startedCallback()},onRewarded:function(){FBInstant.options.adsOptions.rewardCallback()},onClose:function(){FBInstant.options.adsOptions.finishedCallback()},onError:function(e){FBInstant.options.adsOptions.finishedCallback()}}})}},LibYandexGames.prototype.ShowStickyBanners=function(){},LibYandexGames.prototype.DestroyStickyBanners=function(){},LibYandexGames.prototype.LoadMetrica=function(){var m,e,t,r,i,k,a;m=window,e=document,t="script",r="https://mc.yandex.ru/metrika/tag.js",i="ym",m.ym=m.ym||function(){(m.ym.a=m.ym.a||[]).push(arguments)},m.ym.l=1*new Date,k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a),ym(FBInstant.options.analyticsOptions.Metrica,"init",{clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,triggerEvent:!0})},window.LibGameMonetize=function(){LibGameMonetize.Log("[IGX] GameMonetize: Created!")},LibGameMonetize.Log=function(message){console.log(message)},LibGameMonetize.LogError=function(message){console.log(message)},LibGameMonetize.prototype.InitAds=function(options){LibGameMonetize.Log("[IGX] GameMonetize: InitAds");var self=this;this.startedCallback=FBInstant.options.adsOptions.startedCallback,this.finishedCallback=FBInstant.options.adsOptions.finishedCallback,window.SDK_OPTIONS={gameId:FBInstant.options.adsOptions.GameMonetizeAppId,debug:"192.168.0.7"==document.domain,testing:"192.168.0.7"==document.domain,onEvent:function(event){switch(event.name){case"AD_SDK_FINISHED":LibGameMonetize.Log("GameMonetize: AD COMPLETED");break;case"SDK_GAME_PAUSE":self.startedCallback();break;case"SDK_GAME_START":self.finishedCallback()}}};var script=document.createElement("script");script.id="gamemonetize-sdk",script.src="https://api.gamemonetize.com/sdk.js",script.onload=function(){LibGameMonetize.Log("[IGX] GameMonetize: Loaded")},document.head.appendChild(script)},LibGameMonetize.prototype.addSupportedAPI=function(type){"ads"===type&&(FBInstant.supportedAPIs.push("getInterstitialAdAsync"),FBInstant.supportedAPIs.push("AdInstance.loadAsync"),FBInstant.supportedAPIs.push("AdInstance.showAsync"))},LibGameMonetize.prototype.PreloadAd=function(id,type,done_cb){done_cb(null)},LibGameMonetize.prototype.ShowAd=function(type,done_cb){LibGameMonetize.Log("GameMonetize: Requesting ad"),"video"==type&&sdk.showBanner()},window.LibDoubleClick=function(){LibDoubleClick.Log("[IGX] Doubleclick: Created!")},LibDoubleClick.Log=function(message){console.log(message)},LibDoubleClick.LogError=function(message){console.log(message)},LibDoubleClick.prototype.InitAds=function(options){LibGameMonetize.Log("[IGX] GameMonetize: InitAds");var self=this;this.startedCallback=FBInstant.options.adsOptions.startedCallback,this.finishedCallback=FBInstant.options.adsOptions.finishedCallback,window.SDK_OPTIONS={gameId:FBInstant.options.adsOptions.GameMonetizeAppId,debug:"192.168.0.7"==document.domain,testing:"192.168.0.7"==document.domain,onEvent:function(event){switch(event.name){case"AD_SDK_FINISHED":LibGameMonetize.Log("GameMonetize: AD COMPLETED");break;case"SDK_GAME_PAUSE":self.startedCallback();break;case"SDK_GAME_START":self.finishedCallback()}}};var script=document.createElement("script");script.id="gamemonetize-sdk",script.src="https://api.gamemonetize.com/sdk.js",script.onload=function(){LibGameMonetize.Log("[IGX] DoubleClick: Loaded")},document.head.appendChild(script)},LibDoubleClick.prototype.addSupportedAPI=function(type){"ads"===type&&(FBInstant.supportedAPIs.push("getInterstitialAdAsync"),FBInstant.supportedAPIs.push("AdInstance.loadAsync"),FBInstant.supportedAPIs.push("AdInstance.showAsync"))},LibDoubleClick.prototype.PreloadAd=function(id,type,done_cb){done_cb(null)},LibDoubleClick.prototype.ShowAd=function(type,done_cb){LibDoubleClick.Log("DoubleClick: Requesting ad"),"video"==type&&sdk.showBanner()},window.LibAdInPlay=function(){this.AdinplayInitalized=!1},LibAdInPlay.Log=function(message){console.log(message)},LibAdInPlay.LogError=function(message){console.log(message)},LibAdInPlay.prototype.InitAds=function(options){this.AdinplayInitalized||(LibAdInPlay.Log("[IGX] AdInPlay: InitAds"),this.startedCallback=FBInstant.options.adsOptions.startedCallback,this.finishedCallback=FBInstant.options.adsOptions.finishedCallback,this.adWidth=22,this.adHeight=22,this.lightbox=document.createElement("div"),this.lightbox.id="tr-lightbox",this.lightbox.style.position="fixed",this.lightbox.style.display="none",this.lightbox.style.width="100%",this.lightbox.style.height="100%",this.lightbox.style.top="0",this.lightbox.style.left="0",this.lightbox.style.backgroundColor="rgba(0, 0, 0, 0.8)",document.getElementsByTagName("body")[0].appendChild(this.lightbox),this.script=document.createElement("script"),this.script.src=FBInstant.options.adsOptions.AdinplayUrl,this.script.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(this.script),this.prerollElement=document.createElement("div"),this.prerollElement.id="preroll",this.prerollElement.style.width=this.adWidth,this.prerollElement.style.height=this.adHeight,this.prerollElement.style.top="0",this.prerollElement.style.left="0",this.prerollElement.style.position="fixed",this.prerollElement.style.overflow="hidden",document.getElementsByTagName("body")[0].appendChild(this.prerollElement),void 0!==this.adWidth&&(this.adWidth=this.adWidth),void 0!==this.adHeight&&(this.adHeight=this.adHeight),this.AdinplayInitalized=!0),this.startedCallback=FBInstant.options.adsOptions.startedCallback,this.finishedCallback=FBInstant.options.adsOptions.finishedCallback,this.rewardCallback=FBInstant.options.adsOptions.rewardCallback},LibAdInPlay.prototype.addSupportedAPI=function(type){"ads"===type&&(FBInstant.supportedAPIs.push("getInterstitialAdAsync"),FBInstant.supportedAPIs.push("getRewardedVideoAsync"),FBInstant.supportedAPIs.push("AdInstance.loadAsync"),FBInstant.supportedAPIs.push("AdInstance.showAsync"))},LibAdInPlay.prototype.PreloadAd=function(id,type,done_cb){done_cb(null)},LibAdInPlay.prototype.ShowAd=function(id,type,done_cb){var self=this;void 0===this.aiptag&&(this.aiptag=aiptag||{},this.aiptag.cmd=this.aiptag.cmd||[],this.aiptag.cmd.display=aiptag.cmd.display||[],this.aiptag.cmd.player=this.aiptag.cmd.player||[],this.aiptag.cmp={show:!0,position:"centered",button:!0,buttonText:"Privacy settings",buttonPosition:"bottom-left"},this.aiptag.cmd.player.push((function(){window.adplayer=new aipPlayer({AD_WIDTH:self.adWidth,AD_HEIGHT:self.adHeight,AD_FULLSCREEN:!0,AD_CENTERPLAYER:!1,LOADING_TEXT:"loading advertisement",PREROLL_ELEM:function(){return document.getElementById("preroll")},AIP_COMPLETE:function(){self.adRequested=!1,void 0!==self.finishedCallback&&self.finishedCallback(),self.lightbox.style.display="none"},AIP_REMOVE:function(){},AIP_NOADS:function(){window.lastTimeAds.setTime(Adsnow.getTime()-12e4)},AIP_REWARDEDCOMPLETE:function(){void 0!==self.rewardCallback&&self.rewardCallback(),self.lightbox.style.display="none"},AIP_REWARDEDGRANTED:function(){console.log("[IGX]Adinplay Reward Granted")}})}))),void 0!==this.aiptag?"video"===type?(LibAdInPlay.Log("[IGX} LibAdInPlay: Requesting Video Ad"),this.lightbox.style.display="block",this.watchedCallback=done_cb,this.aiptag.cmd.player.push((function(){adplayer.startPreRoll()})),void 0!==this.startedCallback&&this.startedCallback()):"inter"===type?(this.lightbox.style.display="block",this.aiptag.cmd.player.push((function(){adplayer.startPreRoll()})),done_cb(null),void 0!==this.startedCallback&&this.startedCallback()):"banner"===type?(LibAdInPlay.Log("[IGX} LibAdInPlay: Requesting Banner Ad"),this.aiptag.cmd.display.push((function(){aipDisplayTag.display(id)}))):"reward"===type?(LibAdInPlay.Log("[IGX} LibAdInPlay: Requesting Reward Ad"),this.lightbox.style.display="block",this.aiptag.cmd.player.push((function(){adplayer.startRewardedAd()})),void 0!==this.startedCallback&&this.startedCallback()):done_cb({code:"ADS_NOT_LOADED",message:"ADS_NOT_LOADED"}):done_cb({code:"ADS_NOT_LOADED",message:"ADS_NOT_LOADED"})},window.LibApplixir=function(){LibApplixir.Log("[IGX] Applixir: Created!")},LibApplixir.Log=function(message){console.log(message)},LibApplixir.LogError=function(message){console.log(message)},LibApplixir.prototype.InitAds=function(options){LibApplixir.Log("[IGX] Applixir: InitAds");var script=document.createElement("script");script.id="applixir-sdk",script.src="https://cdn.applixir.com/applixir.sdk3.0m.js",script.onload=function(){LibApplixir.Log("[IGX] Applixir: Loaded")},document.head.appendChild(script)},LibApplixir.prototype.addSupportedAPI=function(type){"ads"===type&&(FBInstant.supportedAPIs.push("getInterstitialAdAsync"),FBInstant.supportedAPIs.push("AdInstance.loadAsync"),FBInstant.supportedAPIs.push("AdInstance.showAsync"))},LibApplixir.prototype.ShowAd=function(type,done_cb){LibApplixir.Log("Applixir: Requesting ad"),"video"===type&&invokeApplixirVideoUnit(applixoptions)},window.LibCpmstar=function(){LibCpmstar.Log("[IGX] Cpmstar: Created!")},LibCpmstar.Log=function(message){console.log(message)},LibCpmstar.LogError=function(message){console.log(message)},LibCpmstar.prototype.InitAds=function(){!function(zonefile){var rnd=Math.round(999999*Math.random()),s=document.createElement("script");s.type="text/javascript",s.async=!0;var proto=document.location.protocol,host="https:"==proto||"file:"==proto?"https://server":"//cdn";"#cpmstarDev"==window.location.hash&&(host="//dev.server"),"#cpmstarStaging"==window.location.hash&&(host="//staging.server"),s.src=host+".cpmstar.com/cached/zonefiles/"+zonefile+".js?rnd="+rnd;var s2=document.getElementsByTagName("script")[0];s2.parentNode.insertBefore(s,s2);var y=window.location.href.split("#")[0].split("").reduce((function(a,b){return(a<<5)-a+b.charCodeAt(0)>>>1}),0);y=(10+7*y%26).toString(36)+y.toString(36);var drutObj=window[y]=window[y]||{};window.cpmstarAPI=function(o){(drutObj.cmd=drutObj.cmd||[]).push(o)}}(FBInstant.options.adsOptions.ZoneID),cpmstarAPI((function(api){api.game.setTarget(document.body)})),console.log("[IGX] Cpmstar: InitCpmstar")},LibCpmstar.prototype.addSupportedAPI=function(type){"ads"===type&&(FBInstant.supportedAPIs.push("getInterstitialAdAsync"),FBInstant.supportedAPIs.push("getRewardedVideoAsync"),FBInstant.supportedAPIs.push("AdInstance.loadAsync"),FBInstant.supportedAPIs.push("AdInstance.showAsync"))},LibCpmstar.prototype.PreloadInterStitial=function(){cpmstarAPI({kind:"game.createInterstitial"})},LibCpmstar.prototype.ShowAnchorAd=function(anchorname,anchorpoolid){cpmstarAPI({kind:"createmodule",module:anchorname,config:{kind:"anchor",options:{dir:1,horizontal:!1},request:{poolid:anchorpoolid,kind:"banner"}}})},LibCpmstar.prototype.InitBannerAd=function(el,id){cpmstarAPI({kind:"asynctagfetch",el:el,pid:id})},LibCpmstar.prototype.InitVideoAd=function(){var self=this;this.finishedCallback=FBInstant.options.adsOptions.finishedCallback,this.startedCallback=FBInstant.options.adsOptions.startedCallback,cpmstarAPI({kind:"game.displayInterstitial",onAdOpened:function(){void 0!==self.startedCallback&&self.startedCallback()},onAdClosed:function(){void 0!==self.finishedCallback&&self.finishedCallback()}})},LibGoogleAnalytics.Log=function(message){console.log(message)},LibGoogleAnalytics.LogError=function(message){console.log(message)},LibGoogleAnalytics.prototype.InitAnalytics=function(){LibGoogleAnalytics.Log("[IGX] GoogleAnalytics: InitAnalytics");var self=this,i,s,o,g,r,a,m;i=window,s=document,o="script",g="https://www.google-analytics.com/analytics.js",r="ga",i.GoogleAnalyticsObject=r,i.ga=i.ga||function(){(i.ga.q=i.ga.q||[]).push(arguments)},i.ga.l=1*new Date,a=s.createElement(o),m=s.getElementsByTagName(o)[0],a.async=1,a.src=g,m.parentNode.insertBefore(a,m),ga("create",FBInstant.options.analyticsOptions.trackingId,"auto"),ga("send","pageview"),setInterval((function(){ga("send","event","alive","alive","alive")}),1e3)},LibGoogleAnalytics.prototype.addSupportedAPI=function(type){"analytics"===type&&FBInstant.supportedAPIs.push("logEvent")},LibGoogleAnalytics.prototype.LogEvent=function(category,event_name,value){return LibGoogleAnalytics.Log("[IGX] GoogleAnalytics: LogEvent "+event_name),ga("send","event",category,event_name,value),!0},LibFacebookAnalytics.Log=function(message){console.log(message)},LibFacebookAnalytics.LogError=function(message){console.log(message)},LibFacebookAnalytics.prototype.InitAnalytics=function(){LibFacebookAnalytics.Log("[IGX] FacebookAnalytics: InitAnalytics"),window.fbAsyncInit=function(){FB.init({appId:FBInstant.options.analyticsOptions.FaceBookAppId,cookie:!0,xfbml:!0,version:FBInstant.options.analyticsOptions.facebookApiVersion}),FB.AppEvents.logPageView()};var script=document.createElement("script");script.id="facebook-jssd",script.src="https://connect.facebook.net/en_US/sdk.js",script.onload=function(){},document.head.appendChild(script)},LibFacebookAnalytics.prototype.addSupportedAPI=function(type){"analytics"===type&&(FBInstant.supportedAPIs.push("logEvent"),FBInstant.supportedAPIs.push("LogEventValue"))},LibFacebookAnalytics.prototype.LogEvent=function(event_name){if(!1!==FB)return LibFacebookAnalytics.Log("[IGX] FacebookAnalytics: LogEvent "+event_name),FB.AppEvents.logEvent(event_name),!0},LibFacebookAnalytics.prototype.LogEventValue=function(e,v){if(!1!==FB)return FB.AppEvents.logEvent(e,v),LibFacebookAnalytics.Log("[IGX] FacebookAnalytics: LogEvent "+e),!0},LibPayPal.Log=function(message){console.log(message)},LibPayPal.LogError=function(message){console.log(message)},FBInstant.options.paymentsOptions.style={size:"responsive",color:"blue",shape:"pill",label:"checkout",tagline:"true"},FBInstant.options.paymentsOptions.locale="en_US",FBInstant.options.paymentsOptions.currency="USD",FBInstant.options.paymentsOptions.buttonId="#paypal-button",FBInstant.options.paymentsOptions.products={},LibPayPal.prototype.InitPayments=function(options,done_cb){LibPayPal.Log("[IGX] PayPal: InitPayments"),done_cb(null)},LibPayPal.prototype.addSupportedAPI=function(type){"payments"===type&&(FBInstant.supportedAPIs.push("payments.getCatalogAsync"),FBInstant.supportedAPIs.push("payments.purchaseAsync"),FBInstant.supportedAPIs.push("payments.getPurchasesAsync"),FBInstant.supportedAPIs.push("payments.consumePurchaseAsync"),FBInstant.supportedAPIs.push("payments.purchaseAsync"))},LibPayPal.prototype.GetProducts=function(done_cb){done_cb(null,FBInstant.options.paymentsOptions.products)},LibPayPal.prototype.PurchaseProduct=function(options,done_cb){var gopt=FBInstant.options.paymentsOptions;LibPayPal.Log("[IGX] PayPal: PurchaseProduct - env "+gopt.devMode);var product=gopt.products[options.productID];void 0!==product?paypal.Button.render({env:gopt.devMode,client:{sandbox:gopt.sandboxId,production:gopt.productionId},locale:gopt.locale,style:gopt.style,payment:function(data,actions){return actions.payment.create({transactions:[{amount:{total:""+product.price,currency:product.priceCurrencyCode},description:product.description}]})},onAuthorize:function(data,actions){return actions.payment.execute().then((function(){var pdata=new PaymentsService.Purchase(options.developerPayload,data.paymentID,product.productID,Date.now,data.paymentToken,null);pdata.orderID=data.orderID,pdata.returnUrl=data.returnUrl,done_cb(null,data)}))},onCancel:function(data,actions){done_cb({code:"USER_INPUT",message:"USER_INPUT"},null)}},gopt.buttonId):done_cb({code:"INVALID_PARAM",message:"INVALID_PARAM"},null)},LibPayPal.prototype.RefundProduct=function(options,done_cb){done_cb({code:"CLIENT_UNSUPPORTED_OPERATION",message:"CLIENT_UNSUPPORTED_OPERATION"},null)},LibPayPal.prototype.ConsumeProduct=function(options,done_cb){done_cb({code:"CLIENT_UNSUPPORTED_OPERATION",message:"CLIENT_UNSUPPORTED_OPERATION"},null)},LibPayPal.prototype.GetPurchases=function(done_cb){done_cb({code:"CLIENT_UNSUPPORTED_OPERATION",message:"CLIENT_UNSUPPORTED_OPERATION"},null)},LibUnity.Log=function(message){console.log(message)},LibUnity.LogError=function(message){console.log(message)},LibUnity.MessageQ=[],LibUnity.MessageQSendInterval=50,LibUnity.SendMessages=function(message){LibUnity.MessageQ.length>0&&(window.location.href="igx://"+LibUnity.MessageQ[0],LibUnity.MessageQ.shift())},setInterval(LibUnity.SendMessages,LibUnity.MessageQSendInterval),LibUnity.SendMessageToUnity=function(message){LibUnity.MessageQ.push(message)},LibUnity.ShowAdCallback=function(message){LibUnity.Log("[IGX] Unity: ShowAdCallback "+message);var service=AdsService.instance.service,callback;if("ok"===message)void 0!==(callback=service.watchedCallback)&&callback(null),void 0!==service.finishedCallback&&service.finishedCallback(!0),service.watchedCallback=void 0;else if("error"===message||"skip"===message){var callback;void 0!==(callback=service.watchedCallback)&&callback({code:"ADS_NOT_LOADED",message:"ADS_NOT_LOADED"}),void 0!==service.finishedCallback&&service.finishedCallback(!1),service.watchedCallback=void 0}},LibUnity.LoadAdCallback=function(message){LibUnity.Log("[IGX] Unity: LoadAdCallback "+message);var service=AdsService.instance.service;"ok"===message?(void 0!==service.loadCallback&&service.loadCallback(null,null),service.loadCallback=void 0):"error"===message&&(void 0!==service.loadCallback&&service.loadCallback({code:"ADS_NOT_LOADED",message:"ADS_NOT_LOADED"}),service.loadCallback=void 0)},LibUnity.LoadRewardedAdCallback=function(message){LibUnity.Log("[IGX] Unity: LoadAdCallback "+message);var service=AdsService.instance.service;"ok"===message?(void 0!==service.loadRewardedCallback&&service.loadRewardedCallback(null,null),service.loadRewardedCallback=void 0):"error"===message&&(void 0!==service.loadRewardedCallback&&service.loadRewardedCallback({code:"ADS_NOT_LOADED",message:"ADS_NOT_LOADED"}),service.loadRewardedCallback=void 0)},LibUnity.IAPCallback=function(message,products){LibUnity.Log("[IGX] Unity: IAPCallback "+message);var service=PaymentsService.instance.service;if("success"===message){var product_info=FBInstant.options.paymentsOptions.products;for(var product in product_info)for(var t=0;t<products.length;t++)product_info[product].productID===products[t].id&&(product_info[product].price=products[t].price);service.iap_init=!0,service.iap_initialised(null)}else"error"===message&&(service.iap_init=!1,service.iap_initialised())},LibUnity.PurchaseCallback=function(message,product_id){LibUnity.Log("[IGX] Unity: PurchaseCallback "+message);var service=PaymentsService.instance.service;"success"===message?void 0!==service.purchase_complete&&(service.purchase_complete(null,new PaymentsService.Purchase("","",product_id,Date.now,"",null)),service.purchase_complete=void 0):"error"===message&&void 0!==service.purchase_complete&&(service.purchase_complete({code:"NETWORK_FAILURE",message:"NETWORK_FAILURE"},null),service.purchase_complete=void 0)},LibUnity.LoginCallback=function(success,user){LibUnity.Log("[IGX] Unity: LoginCallback "+success);var service=UserService.instance.service;void 0!==service.login_complete&&(success?(service.gamerData={network:"unity"},service.login_complete(null,user)):service.login_complete({code:"NETWORK_FAILURE",message:"NETWORK_FAILURE"},user),service.login_complete=void 0,service.profile=user)},LibUnity.SetScoreCallback=function(success){LibUnity.Log("[IGX] Unity: SubmitScoreCallback");var service=LeaderboardsService.instance.service;void 0!==service.setscore_complete&&(service.setscore_complete(success),service.setscore_complete=void 0)},LibUnity.LoadPlayerScoreCallback=function(entry){LibUnity.Log("[IGX] Unity: LoadPlayerScoreCallback");var service=LeaderboardsService.instance.service;void 0!==service.getscore_complete&&(null!==entry?service.getscore_complete(entry):service.getscore_complete(null),service.getscore_complete=void 0)},LibUnity.LoadScoresCallback=function(entries){LibUnity.Log("[IGX] Unity: LoadScoresCallback");var service=LeaderboardsService.instance.service;void 0!==service.loadscores_complete&&(null!==entries?service.loadscores_complete(entries):service.loadscores_complete(null),service.loadscores_complete=void 0)},LibUnity.SetLocale=function(locale){var service;UserService.instance.service.profile.lang=locale},LibUnity.prototype.Init=function(options){LibUnity.Log("[IGX] Unity: Init"),LibUnity.SendMessageToUnity("init")},LibUnity.prototype.InitAds=function(options){LibUnity.Log("[IGX] Unity: InitAds"),this.startedCallback=options.startedCallback,this.finishedCallback=options.finishedCallback,LibUnity.SendMessageToUnity("initAds"+options.vendor+","+options.appId)},LibUnity.prototype.InitAnalytics=function(options){},LibUnity.prototype.InitPayments=function(options,done_cb){LibUnity.Log("[IGX] Unity: InitPayments");var self=this;this.iap_initialised=done_cb;var product_info=FBInstant.options.paymentsOptions.products,products="";for(var product in product_info)products+=product_info[product].productID+",";LibUnity.SendMessageToUnity("initIAP"+products)},LibUnity.prototype.InitUser=function(options){LibUnity.Log("[IGX] Unity: InitUser"),LibUnity.SendMessageToUnity("initSocial")},LibUnity.prototype.InitLeaderboards=function(options){},LibUnity.prototype.InitShare=function(options){},LibUnity.prototype.addSupportedAPI=function(type){"leaderboards"===type?(FBInstant.supportedAPIs.push("Leaderboard.getEntriesAsync"),FBInstant.supportedAPIs.push("Leaderboard.getConnectedPlayerEntriesAsync"),FBInstant.supportedAPIs.push("Leaderboard.getPlayerEntryAsync"),FBInstant.supportedAPIs.push("Leaderboard.setScoreAsync"),FBInstant.supportedAPIs.push("getLeaderboardAsync"),FBInstant.supportedAPIs.push("ext.showLeaderboard")):"user"===type?(FBInstant.supportedAPIs.push("getLocale"),FBInstant.supportedAPIs.push("player.getConnectedPlayersAsync"),FBInstant.supportedAPIs.push("ext.isLoggedIn"),FBInstant.supportedAPIs.push("ext.loginAsync")):"share"===type?FBInstant.supportedAPIs.push("shareAsync"):"ads"===type?(FBInstant.supportedAPIs.push("getInterstitialAdAsync"),FBInstant.supportedAPIs.push("getRewardedVideoAsync"),FBInstant.supportedAPIs.push("AdInstance.loadAsync"),FBInstant.supportedAPIs.push("AdInstance.showAsync")):"analytics"===type?FBInstant.supportedAPIs.push("logEvent"):"payments"===type?(FBInstant.supportedAPIs.push("payments.getCatalogAsync"),FBInstant.supportedAPIs.push("payments.purchaseAsync"),FBInstant.supportedAPIs.push("payments.getPurchasesAsync"),FBInstant.supportedAPIs.push("payments.consumePurchaseAsync"),FBInstant.supportedAPIs.push("payments.purchaseAsync")):"debug"===type&&(FBInstant.supportedAPIs.push("ext.debug.show"),FBInstant.supportedAPIs.push("ext.debug.log"))},LibUnity.prototype.Login=function(allow_anonymous,done_cb){allow_anonymous?(LibUnity.Log("[IGX] LibUnity: Anonymous login"),void 0!==done_cb&&done_cb(null,null)):(this.login_complete=done_cb,LibUnity.SendMessageToUnity("login"))},LibUnity.prototype.GetProfileData=function(){return this.profile},LibUnity.prototype.SetProfile=function(profile){this.profile=profile},LibUnity.prototype.GetFriends=function(done_cb){void 0!==done_cb&&done_cb([])},LibUnity.prototype.PreloadAd=function(id,type,done_cb){LibUnity.Log("Unity: Loading ad"),"video"===type?(this.loadRewardedCallback=done_cb,LibUnity.SendMessageToUnity("loadVideo")):"inter"===type?(this.loadCallback=done_cb,LibUnity.SendMessageToUnity("loadInter")):done_cb({code:"ADS_NOT_LOADED",message:"ADS_NOT_LOADED"})},LibUnity.prototype.ShowAd=function(id,type,done_cb){LibUnity.Log("Unity: Showing ad"),"video"===type?(this.watchedCallback=done_cb,LibUnity.SendMessageToUnity("showVideo"),void 0!==this.startedCallback&&this.startedCallback()):"inter"===type?(LibUnity.SendMessageToUnity("showInter"),done_cb(null),void 0!==this.startedCallback&&this.startedCallback()):done_cb({code:"ADS_NOT_LOADED",message:"ADS_NOT_LOADED"})},LibUnity.prototype.LogEvent=function(event_name,value,params){var data="logEvent"+event_name;for(var p in params)data+=","+p+","+params[p];return LibUnity.SendMessageToUnity(data),null},LibUnity.prototype.GetProducts=function(done_cb){done_cb(null,FBInstant.options.paymentsOptions.products)},LibUnity.prototype.PurchaseProduct=function(options,done_cb){if(this.iap_init){var gopt=FBInstant.options.paymentsOptions;this.purchase_complete=done_cb,LibUnity.SendMessageToUnity("purchase"+options.productID)}else done_cb({code:"PAYMENTS_NOT_INITIALIZED",message:"PAYMENTS_NOT_INITIALIZED"},null)},LibUnity.prototype.RefundProduct=function(options,done_cb){done_cb({code:"CLIENT_UNSUPPORTED_OPERATION",message:"CLIENT_UNSUPPORTED_OPERATION"},null)},LibUnity.prototype.ConsumeProduct=function(purchaseToken,done_cb){done_cb({code:"CLIENT_UNSUPPORTED_OPERATION",message:"CLIENT_UNSUPPORTED_OPERATION"},null)},LibUnity.prototype.GetPurchases=function(done_cb){done_cb({code:"CLIENT_UNSUPPORTED_OPERATION",message:"CLIENT_UNSUPPORTED_OPERATION"},null)},LibUnity.prototype.LeaderboardGetPaged=function(lbd,board_name,page_number,count,done_cb){this.loadscores_complete=done_cb,LibUnity.SendMessageToUnity("scores"+board_name+",global")},LibUnity.prototype.LeaderboardGetFriendsPaged=function(lbd,board_name,page_number,count,done_cb){this.loadscores_complete=done_cb,LibUnity.SendMessageToUnity("scores"+board_name+",friends")},LibUnity.prototype.LeaderboardGetRank=function(lbd,board_name,done_cb){this.getscore_complete=done_cb,LibUnity.SendMessageToUnity("getscore"+board_name)},LibUnity.prototype.LeaderboardSetScore=function(lbd,board_name,score,extra,done_cb){this.setscore_complete=done_cb,LibUnity.SendMessageToUnity("setscore"+board_name+","+score)},LibUnity.prototype.ShowLeaderboard=function(options){LibUnity.SendMessageToUnity("showlbd")},LibUnity.prototype.SharePrimary=function(options){if(void 0!==options.image){var data=options.image.replace(/^data:image\/(png|jpeg);base64,/,""),len=(data=data.replace(/\+/g,"$")).length;console.log("########## Total len "+len);for(var index=0,chunk_size=15e3;len>0;)len<15e3?LibUnity.SendMessageToUnity("ud"+data.substr(index,len)):LibUnity.SendMessageToUnity("ud"+data.substr(index,15e3)),index+=15e3,len-=15e3,console.log("########## "+len);LibUnity.SendMessageToUnity("share"+options.title+","+options.text+",image")}else LibUnity.SendMessageToUnity("share"+options.title+","+options.text+",")},LibUnity.prototype.OpenURL=function(options){LibUnity.SendMessageToUnity("openurl"+options.url)},LibUnity.prototype.ShowDebug=function(options){!0===options?LibUnity.SendMessageToUnity("showdbg1"):LibUnity.SendMessageToUnity("showdbg0")},LibUnity.prototype.ClearDebug=function(){LibUnity.SendMessageToUnity("clog")},LibUnity.prototype.LogDebug=function(string){LibUnity.SendMessageToUnity("dlog"+string)},LibGladius.prototype.Initalize=function(){console.log("[IGX]Gladius:Created")},LibFireBase.prototype.Loaders=function(x){switch(x){case"Core":var script;(script=document.createElement("script")).id="firebaseCore",script.src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js",script.onload=function(){LibGameMonetize.Log("[IGX] Firebase: Loaded"),this.LibReady=!0},document.head.appendChild(script);break;case"Auth":var script;(script=document.createElement("script")).id="firebaseAuth",script.src="https://www.gstatic.com/firebasejs/8.6.8/firebase-auth.js",script.onload=function(){LibGameMonetize.Log("[IGX] Firebase-Auth: Loaded")},document.head.appendChild(script)}},LibFireBase.prototype.Initalize=function(){var firebaseConfig={apiKey:FBInstant.options.firebaseOptions.apiKey,authDomain:FBInstant.options.firebaseOptions.authDomain,databaseURL:FBInstant.options.firebaseOptions.databaseURL,projectId:FBInstant.options.firebaseOptions.projectId,storageBucket:FBInstant.options.firebaseOptions.storageBucket,messagingSenderId:FBInstant.options.firebaseOptions.messagingSenderId,appId:FBInstant.options.firebaseOptions.appId};this.LibReady&&firebase.initializeApp(firebaseConfig)},window.AdsService=function(name){this.service=LibUtils.ResolveService(name),void 0===this.service&&("crazygames"===name?this.service=new LibCrazyGames:"gamedistribution"===name?this.service=new LibGameDistribution:"adinplay"===name?this.service=new LibAdInPlay:"unity"===name?this.service=new LibUnity:"gamemonetize"===name?this.service=new LibGameMonetize:"cpmstar"===name&&(this.service=new LibCpmstar)),this.name=name,AdsService.instance=this,void 0!==FBInstant.ext&&void 0!==this.service&&this.service.addSupportedAPI("ads")},AdsService.prototype.InitAds=function(options){return void 0!==this.service&&this.service.InitAds(options)},AdsService.prototype.IsSupported=function(){return void 0!==this.service},AdsService.prototype.PreloadAd=function(id,type,done_cb){if(void 0!==this.service)return this.service.PreloadAd(id,type,done_cb)},AdsService.prototype.ShowAd=function(id,type,done_cb){if(void 0!==this.service)return this.service.ShowAd(id,type,done_cb)},PaymentsService.Product=function(title,product_id,description,image_url,price,currency_code){this.title=title,this.productID=product_id,this.description=description,this.imageURI=image_url,this.price=price,this.priceCurrencyCode=currency_code},PaymentsService.Purchase=function(payload,payment_id,product_id,purchase_time,purchase_token,signed_request){this.developerPayload=payload,this.paymentID=payment_id,this.productID=product_id,this.purchaseTime=purchase_time,this.purchaseToken=purchase_token,this.signedRequest=signed_request},PaymentsService.prototype.InitPayments=function(options,done_cb){return void 0!==this.service&&this.service.InitPayments(options,done_cb)},PaymentsService.prototype.IsSupported=function(){return void 0!==this.service},PaymentsService.prototype.GetProducts=function(done_cb){if(void 0!==this.service)return this.service.GetProducts(done_cb)},PaymentsService.prototype.PurchaseProduct=function(options,done_cb){if(void 0!==this.service)return this.service.PurchaseProduct(options,done_cb)},PaymentsService.prototype.RefundProduct=function(options,done_cb){if(void 0!==this.service)return this.service.RefundProduct(options,done_cb)},PaymentsService.prototype.ConsumeProduct=function(options,done_cb){if(void 0!==this.service)return this.service.ConsumeProduct(options,done_cb)},PaymentsService.prototype.GetPurchases=function(done_cb){if(void 0!==this.service)return this.service.GetPurchases(done_cb)},AnalyticsService.prototype.InitAnalytics=function(options){return void 0!==this.service&&this.service.InitAnalytics(options)},AnalyticsService.prototype.IsSupported=function(){return void 0!==this.service},AnalyticsService.prototype.LogEvent=function(event_name,value,params){return void 0===this.service?null:this.service.LogEvent(event_name,value,params)},AnalyticsService.prototype.LogEventValue=function(event_name,value){return void 0===this.service?null:this.service.LogEvent(event_name,value)};